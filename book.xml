<?xml version="1.0" encoding="us-ascii"?>
<!--
	A Programmer's Guide to SJCAM SJ4000 WiFi
	Copyright (C) 2016-2017 Nutchanon Wetchasit
	
	This guide is free document: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation.
	
	This guide is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
	
	You should have received a copy of the GNU General Public License
	along with this guide. If not, see <http://www.gnu.org/licenses/gpl.html>
	
	Additionally, permission to redistribute and/or modify this guide
	is also provided under the terms of the GNU Free Documentation License
	as published by the Free Software Foundation; with no Invariant Sections,
	with no Front-Cover Texts, and with no Back-Cover Texts. A copy of this
	license could be obtained from <http://www.gnu.org/licenses/fdl.html>
-->
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN" "http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd" [
	<!ENTITY tcp80 "(on TCP port 80)">
	<!ENTITY accessurl "&accessurlp;:">
	<!ENTITY accessurlp "open your web browser to the following URL">
	<!ENTITY accessingurl "opening your web browser to the following URL:">
	<!ENTITY confxmlresp "
		<para>
			Once the configuration is done,
			&partxmlresp;
		</para>
	">
	<!ENTITY xmlresp "
		<para>
			The &partxmlresp;
		</para>
	">
	<!ENTITY partxmlresp "
		camera will &xmlrespsemi;
	">
	<!ENTITY xmlrespsemi "
		return HTTP 200 response,
		using <literal>text/xml</literal> content type
		with appropriate content length,
		and following XML content:
	">
	<!ENTITY htmlrespsemi "
		camera will return HTTP 200 response
		using <literal>text/html</literal> content type
		and appropriate content length,
	">
	<!ENTITY htmloddrespsemi "
		camera will return HTTP 200 response
		(<emphasis>weird!</emphasis>)
		using <literal>text/html</literal> content type
		and appropriate content length,
	">
	<!ENTITY xmlrespcr "
		Each line is terminated by a single LF (ASCII 10) character
		except the last line (which is not terminated).
	">
	<!ENTITY xmlrespallcr "
		Each line is terminated by a single LF (ASCII 10) character,
		including the last line.
	">
	<!ENTITY gpltext SYSTEM "gpl.xml">
]>
<book>
<bookinfo>
	<title>A Programmer's Guide to SJCAM SJ4000 WiFi</title>
	<releaseinfo>
		Version 0.7.2
		(<emphasis>work in progress</emphasis>, October 2017)
	</releaseinfo>
	<author>
		<firstname>Nutchanon</firstname><surname>Wetchasit</surname>
		<email>Nutchanon.Wetchasit@gmail.com</email>
	</author>
	<copyright>
		<year>2016</year>
		<year>2017</year>
		<holder>Nutchanon Wetchasit</holder>
	</copyright>
	<legalnotice>
		<para>
			Project homepage: <ulink url="http://sj4000programming.sourceforge.net/"/>
		</para>
		<para>
			This guide is free document:
			you can redistribute it and/or modify it
			under the terms of the GNU General Public License
			as published by the Free Software Foundation.
			This guide is distributed in the hope that it will be useful,
			but <emphasis role="strong">WITHOUT ANY WARRANTY</emphasis>;
			without even the implied warranty of <emphasis role="strong">MERCHANTABILITY</emphasis>
			or <emphasis role="strong">FITNESS FOR A PARTICULAR PURPOSE</emphasis>.
		</para>
		<para>
			A copy of the license is included in the section <xref linkend="gpl"/>.
			The corresponding source code of this guide
			and additional bonus materials
			are available from project homepage.
		</para>
		<para>
			Additionally,
			permission to redistribute and/or modify this guide
			is also provided under the terms of the GNU Free Documentation License
			as published by the Free Software Foundation;
			with no Invariant Sections,
			with no Front-Cover Texts,
			and with no Back-Cover Texts.
			A copy of this license could be obtained from
			<ulink url="http://www.gnu.org/licenses/fdl.html"/>
		</para>
	</legalnotice>
	<subjectset scheme="libraryofcongress">
		<!-- Note: subjects are sorted in relevant-first order -->
		<subject>
			<subjectterm>Digital cameras</subjectterm>
		</subject>
		<subject>
			<subjectterm>Remote control</subjectterm>
		</subject>
		<subject>
			<subjectterm>APIs</subjectterm>
			<subjectterm>Application program interfaces</subjectterm>
		</subject>
		<subject>
			<subjectterm>Computer network protocols</subjectterm>
		</subject>
		<subject>
			<subjectterm>WiFi</subjectterm>
			<subjectterm>WLANs</subjectterm>
			<subjectterm>Wireless LANs</subjectterm>
		</subject>
		<subject>
			<subjectterm>Technical manuals</subjectterm>
		</subject>
		<subject>
			<subjectterm>Computer networks</subjectterm>
		</subject>
		<subject>
			<subjectterm>Wireless communication systems</subjectterm>
		</subject>
	</subjectset>
	<keywordset>
		<keyword>SJCAM</keyword>
		<keyword>SJ4000 WiFi</keyword>
		<keyword>Digital camera</keyword>
		<keyword>Action camera</keyword>
		<keyword>Wireless</keyword>
		<keyword>WiFi</keyword>
		<keyword>WLAN</keyword>
		<keyword>Video streaming</keyword>
		<keyword>Remote control</keyword>
		<keyword>API</keyword>
		<keyword>Interface</keyword>
		<keyword>Documentation</keyword>
		<keyword>Programming</keyword>
		<keyword>Reference</keyword>
		<keyword>Manual</keyword>
		<keyword>Reverse-engineering</keyword>
	</keywordset>
</bookinfo>
<dedication>
	<para>
		This documentation effort is dedicated to fellow free software developers around the world
		who spend countless hours reverse-engineering proprietary software and hardware products,
		free customers from vendor lock-in,
		and give us our much-deserved freedom of choice in computing world.
	</para>
</dedication>
<preface id="intro">
	<title>Introduction</title>
	<para>
		SJCAM SJ4000 WiFi is a Chinese-made action camera with decent specification;
		and one of the advertised features is WiFi-based control-
		as its model name suggests.
		However, to use this feature,
		users are instructed to install a proprietary
		control software on their mobile device,
		and SJCAM does not provide technical specification for it;
		effectively barring <glossterm linkend="freesw">free software</glossterm> users
		from using this feature of their purchased product.
	</para>
	<para>
		However, through bits and pieces obtained from reverse engineering,
		together with months of experiment,
		I was able to write a technical documentation of this feature.
		The effort results in this guide,
		which provides information necessary for
		third party developers to write software (desktop, server, or mobile)
		which access and control SJCAM SJ4000 WiFi <emphasis role="strong">wirelessly</emphasis>,
		without relying on proprietary software;
		and complete enough to cover all functionalities available in
		the official SJCAM ZONE <indexterm><primary>Android</primary></indexterm>Android application.
	</para>
	<para>
		This also consequentially allows the camera to be used in radically different ways:
		wireless webcam,
		wireless CCTV,
		studio photography camera,
		wildlife observation site camera,
		and much more.
		Possibilities and combinations are only limited by your imagination.
	</para>
	<para>
		You should read this guide if:
	</para>
	<itemizedlist>
		<listitem><para>
			You are a developer looking for a way to write application software
			or software library
			for controlling the SJCAM SJ4000 WiFi camera.
		</para></listitem>
		<listitem><para>
			You own SJCAM SJ4000 WiFi camera yourself
			and want to use its WiFi capability,
			but can't use, or don't want to use SJCAM ZONE application;
			for example,
			when you want to use it with a laptop or desktop computer.
			In contrary to its name,
			you need not be a software developer to read this guide.
		</para></listitem>
		<listitem><para>
			You are considering buying SJCAM SJ4000 WiFi camera,
			and would like to know trivia and catches in camera's functionality
			that were not documented in sale brochure or official manual.
		</para></listitem>
		<listitem><para>
			You are a curious reader who interested to read
			one of the case studies
			of how WiFi capabilities in digital camera are implemented.
		</para></listitem>
	</itemizedlist>
	<para>
		Anyway, due to incompleteness nature of reverse-engineered information,
		this guide is provided with the hope that it is useful,
		but <emphasis role="strong">without any warranty</emphasis>.
		This means you use it at your own risk;
		the author could not be held responsible for broken cameras
		or any damages whatsoever
		caused by your uses of these information.
	</para>
	<para>
		The author is not in any way affiliated with SJCAM,
		other than being SJCAM SJ4000 WiFi camera user;
		so don't assume that I know better.
		Also, as the guide is not professionally edited,
		if you noticed errors,
		found mistake in my English writing,
		got suggestion on improvements,
		or discover more information to share,
		feel free to open a new discussion at project's issue tracker<footnote id="issuetracker"><para>
			Issue tracker of this guide is located at <ulink url="https://sourceforge.net/p/sj4000programming/tickets/"/>
		</para></footnote>,
		or drop me a line via email;
		and I will check what can I do about it.
	</para>
</preface>
<chapter id="thecamera">
	<title>About The Camera</title>
	<indexterm><primary>SJCAM</primary></indexterm>
	<indexterm><primary>SJ4000 WiFi</primary></indexterm>
	<para>
		SJCAM SJ4000 WiFi<footnote id="sj4000wifi"><para>
			SJCAM's official product page: <ulink url="http://sjcamhd.com/sjcam-sj4000-wifi/"/>
		</para></footnote> is a middle-end action camera sold by
		SJCAM Limited (Hong Kong)<footnote id="sjcam"><para>
			SJCAM Limited web site: <ulink url="http://sjcamhd.com/"/>
		</para></footnote>,
		and is manufactured by China-based Shenzhen Hongfeng Century Technology Co., Ltd.<footnote id="cnhfzj"><para>
			Shenzhen Hongfeng Century Technology web site: <ulink url="http://www.cnhfzj.com/"/>
		</para></footnote>
	</para>
	<para>
		This camera features:
	</para>
	<itemizedlist>
		<listitem><para>170-degree wide-angle lens.</para></listitem>
		<listitem><para>1.5-inch 4:3 LCD screen, with narrow vertical viewing angle but near-180 degree horizontal viewing angle.</para></listitem>
		<listitem><para>4x digital zoom.</para></listitem>
		<listitem><para>Single microphone.</para></listitem>
		<listitem><para>MicroSD card-based storage (also known to work with MicroSDHC card).</para></listitem>
		<listitem><para><indexterm><primary>Battery</primary></indexterm>Proprietary 3.7V 900 mAh (3.33 Wh) Li-ion battery, replaceable, automatically recharged when the camera is connected to USB.</para></listitem>
		<listitem><para>Four control buttons:</para>
			<itemizedlist>
				<listitem><simpara>Shutter button (also used as affirmative OK).</simpara></listitem>
				<listitem><simpara>Power button (also used for changing camera mode).</simpara></listitem>
				<listitem><simpara>Up button (also used for zooming in and toggling WiFi access).</simpara></listitem>
				<listitem><simpara>Down button (also used for zooming out).</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem><para>1920x1080 (full HD, aspect 16:9) 30 FPS video recording:</para>
			<itemizedlist>
				<listitem><simpara>QuickTime MOV container format.</simpara></listitem>
				<listitem><simpara>H.264 video.</simpara></listitem>
				<listitem><simpara>Mono PCM 32000 Hz 16-bit audio (can be turned off).</simpara></listitem>
				<listitem><simpara>In-video date/time stamping (can be turned off).</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem><para>4032x3024 (12 megapixels, aspect 4:3) photo shooting.</para>
			<itemizedlist>
				<listitem><simpara>JPEG format.</simpara></listitem>
				<listitem><simpara>In-photo date/time stamping (can be turned off).</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem><para>Timelapse video and photo shooting mode.</para></listitem>
		<listitem><para>Micro HDMI output for live video feed and media playback (1920x1080 60 Hz interlaced).</para></listitem>
		<listitem>
			<para>Micro USB port for connecting with PC, selectable mode on connecting:</para>
			<itemizedlist>
				<listitem><simpara>USB mass storage device (direct read-write access to SD card).</simpara></listitem>
				<listitem><simpara>Standard USB video capture device (1280x720 YUV 4:2:0, 30 FPS MJPEG live feed, no audio).</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem><para><emphasis role="strong">WiFi access with live feed, remote shooting, recording, and configuration.</emphasis></para></listitem>
	</itemizedlist>
	<para>
		However, in order to use the WiFi function,
		users are instructed to install a proprietary SJCAM ZONE application (Android/iOS)
		on their mobile device.
	</para>
	<itemizedlist>
		<listitem><simpara><indexterm><primary>Android</primary></indexterm>SJCAM ZONE Android: <ulink url="http://support.sjcamhd.com/support/solutions/articles/9000011820-sjcamzone-app-for-android-devices"/></simpara></listitem>
		<listitem><simpara>SJCAM ZONE iOS: <ulink url="http://support.sjcamhd.com/support/solutions/articles/9000022195-sjcam-zone-app-for-ios-devices"/></simpara></listitem>
	</itemizedlist>
	<para>
		SJCAM does not provide public technical documentation of the feature;
		this causes problem to users who wish to use free software
		as they cannot simply write their own software to control
		and make use of this function
		without any access to the relevant specification.
	</para>
	<para>
		Though, partially thanks to folks at SJCAM (or their contractors),
		they didn't go out of their way to make their customers' life difficult:
		they use a simplistic interface for accessing files,
		live feed, configuration,
		and a standard passphrase-based WPA2-PSK for securing wireless access;
		no home-grown encryption protocol
		or digital signature checking.
		I definitely consider this a plus
		when I'm going to shop for similar gadgets in the future.
	</para>
	<para>
		Most of information described in this guide are reverse engineered:
		some from simple prod-and-poke,
		and some from communication data snooping between SJCAM ZONE application and the camera.
		The process <emphasis role="strong">does not involve</emphasis> bytecode decompilation/disassembling
		of SJCAM ZONE application or the camera firmware itself.
		The rest of information, including trivia,
		are from simple (but tedious) experiments.
	</para>
	<para>
		Version of software used in experiments are listed below.
	</para>
	<table id="fwversion"><title>Camera firmware version information</title><tgroup cols="2">
		<colspec colname="fwversiontype" colwidth="1.33*"/>
		<colspec colname="fwversionvalue"/>
		<tbody>
			<row>
				<entry>Camera firmware version</entry>
				<entry>G20140116V01</entry>
			</row>
			<row>
				<entry>Camera firmware date</entry>
				<entry>16-Jan-2015</entry>
			</row>
		</tbody>
	</tgroup></table>
	<table id="sjcamzonever"><title>SJCAM ZONE Android application version information</title><tgroup cols="2">
		<colspec colname="versiontype" colwidth="1.33*"/>
		<colspec colname="versionvalue"/>
		<tbody>
			<row>
				<entry>APK version number</entry>
				<entry>0.9.7.19</entry>
			</row>
			<row>
				<entry>APK version code</entry>
				<entry>9729</entry>
			</row>
			<row>
				<entry>Displayed version number (from its App Settings screen)</entry>
				<entry>2.9.8 (422)</entry>
			</row>
		</tbody>
	</tgroup></table>
	<para>
		SJCAM ZONE Android application used in my test
		is the APK binary downloaded from SJCAM's main web site,
		not the one from Google Play.
		Since its displayed version number does not seem to uniquely identify different versions,
		these are checksum information of the APK binary I used in my test,
		just in case:
	</para>
	<table id="sjcamzonehash"><title>SJCAMZONE.apk checksum information</title><tgroup cols="2">
		<colspec colname="checksumtype" colwidth="0.3*"/>
		<colspec colname="checksumvalue"/>
		<thead>
			<row><entry>Checksum type</entry><entry>Checksum value</entry></row>
		</thead>
		<tbody>
			<row><entry>MD5</entry><entry>312b39266a0f098b421daad79f6fffaa</entry></row>
			<row><entry>SHA-1</entry><entry>c55336d43aaf5c3ef370ad42d30ca7f0c09bf30e</entry></row>
			<row><entry>SHA-256</entry><entry>9ba28c501f1a4fa1512a1626317289284401177215f068b3e51a915d98f607aa</entry></row>
			<row><entry>SHA-512</entry><entry>8c69fddf4dcc2b7c7c245f0b39a61ad861ee1559a6519825539f188970eef910&#x200B;661cb3be8c4fb58bcf76df65d06dc3208d720fc37698bcf6c9fea1b3dae42b14</entry></row>
		</tbody>
	</tgroup></table>
	<para>
		The guide describes this particular version of camera firmware and SJCAM ZONE.
		But even your camera uses different or more recent firmware version,
		most parts of the guide should still apply;
		although some trivia or warnings listed here might not be applicable to your version.
	</para>
	<para>
		Again, as this is an alpha release of the guide,
		it might not cover all uncommon error conditions;
		so you need to be aware that there might be some unknown error codes
		or undefined situations for you to deal with
		when you're writing control software.
		Handle them wisely.
	</para>
	<para>
		From now on, I will use <quote>SJ4000WIFI</quote>
		(or simply <quote>the camera</quote>)
		to refer to the <quote>SJCAM SJ4000 WiFi camera</quote>,
		and <quote>SJCAM ZONE</quote> to refer to the <quote>SJCAM ZONE Android application</quote>
		for brevity's sake.
		And lastly, I must note that even this guide is mainly aimed for developers,
		basic information in the next four chapters
		are also useful for <emphasis>end users</emphasis>,
		as no special software is needed to make use of them.
	</para>
	<?dbfo-need height="1.2in"?>
	<para>
		Extra trivia about SJCAM ZONE Android application:
	</para>
	<itemizedlist>
		<listitem>
			<para>
				SJCAM ZONE supports only ARM-based Android devices.
				It won't work on x86-based devices (e.g. ASUS Fonepad) or MIPS-based devices,
				as it included only ARM build of native libraries it uses.
				If you try to run it on those systems,
				it will show an error (with a big <glossterm linkend="vlc">VLC Media Player</glossterm> logo at the top) briefly,
				with message similar to the following:
			</para>
			<blockquote>
<literallayout>Sorry, your device is currently not supported by this version of SJCAM for Android<trademark/>.
The error message is (please mention this when debugging):
ARM build on x86 device</literallayout>
			</blockquote>
			<para>
				Then it will be terminated with system's message
				<quote>Unfortunately, SJCAM ZONE has stopped.</quote>.
			</para>
		</listitem>
	</itemizedlist>
</chapter>
<chapter id="stdconn">
	<title>Standard Connectors</title>
	<para>
		The camera provides two standard <emphasis>wired</emphasis> way for connecting with other devices:
		USB and HDMI.
		As this guide is not focused about these standard connectors,
		I will cover only just basic information.
	</para>
	<?dbfo-need height="2.5in"?>
	<section id="usbconn">
		<title>USB</title>
		<indexterm><primary>Charger</primary></indexterm>
		<indexterm><primary>USB</primary></indexterm>
		<para>
			The camera provides one Micro USB-B connector.
			This is used both for data and battery charging.
			When plugged to the PC,
			camera screen will show a pop up asking
			which type of USB device you want it to be:
		</para>
		<informaltable><tgroup cols="1"><tbody>
			<row><entry><emphasis role="strong">MassStorage</emphasis></entry></row>
			<row><entry>PCCamera</entry></row>
		</tbody></tgroup></informaltable>
		<para>
			The MassStorage mode is selected by default.
			And unlike other digital cameras,
			it does not provide <indexterm><primary>PTP</primary></indexterm><glossterm linkend="ptp">PTP</glossterm> mode
			for acquiring picture or video files;
			but I think you'll find the familiar Mass Storage mode
			as a more robust alternative.
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Extra trivia about USB connector:
		</para>
		<itemizedlist>
			<listitem><para>
				If you plug the camera to a <emphasis>PC</emphasis> while the camera is off;
				the camera will turn on,
				and the usual dialog for selecting USB device type will follow.
			</para></listitem>
			<listitem><para>
				When USB device type selection dialog popped up,
				there's no way to cancel it;
				you must select one (then other camera functions will deactivate).
				If you unplug the USB cable at this point,
				the camera will just turn off.
			</para></listitem>
			<listitem><para>
				If you plug the camera to a USB charger,
				it will not affect current camera operation.
				But when you unplug it from USB charger,
				the camera <emphasis>will turn off</emphasis>.
			</para></listitem>
			<listitem><para>
				If you plug the camera to a USB charger while the camera is off,
				a battery charging screen will show up together with red light;
				this screen will not disappear by itself
				(even after the battery became full).
				If you would like to continue charging without leaving the screen on,
				to prevent LCD burn-in:
				leave the USB charger connected (don't unplug it),
				turn on the camera,
				then turn it off;
				the screen will now be off,
				leaving only red light as a charge indicator.
			</para></listitem>
			<listitem><para>
				The camera can operate on external power alone
				(battery can be removed; including while the camera is powered on).
				The charging screen will show 100% charge,
				but camera's red light will be always lit,
				and date/time will reset if you unplug the power.
			</para></listitem>
			<listitem><para>
				Camera's USB charger is rated at 5 V 1 A.
			</para></listitem>
		</itemizedlist>
		<?dbfo-need height="2.5in"?>
		<section id="usbdrive">
			<title>MassStorage (USB Mass Storage) Mode</title>
			<indexterm><primary>Flash Drive</primary></indexterm>
			<indexterm><primary>Thumbdrive</primary></indexterm>
			<para>
				This mode will turn the camera into a <glossterm linkend="usbmassstorage">USB Mass Storage device</glossterm>
				(a.k.a. flash drive),
				giving your PC a direct read-write access
				to the MicroSD card currently inserted in the camera,
				it works as if you pop the MicroSD card out,
				put it in a card reader,
				and plug it to the PC.
			</para>
			<para>
				You can add, delete, rename, move files and folder,
				or even format the card,
				like you can do with a regular flash drive.
			</para>
			<para>
				The camera will cease working all other functions
				while operating in this mode,
				show blue LED indicator
				and show white <literal>MassStorage</literal> message in the middle of blue screen.
				When you unplug the USB cable (or hold down power button),
				the camera will turn off.
			</para>
			<para>
				Note: In this mode, the camera shows itself as USB 2.0 device
				with Vendor ID <literal>0x0603</literal> (Novatek Microelectronics Corp.),
				Product ID <literal>0x8611</literal>, Manufacturer name <quote>NOVATEK</quote>,
				and Product name <quote>J1455</quote>.
			</para>
			<?dbfo-need height="1.2in"?>
			<para>
				Extra trivia on USB Mass Storage mode:
			</para>
			<itemizedlist>
				<listitem><para>
					MicroSD card access via the camera has linear data read rate at block level
					topped around 8.0 MiB/s.
					Reading the MicroSD card directly on a dedicated card reader
					will allow a higher read speed.
					(In my experiment, the same MicroSDHC card reads at 64.5 MiB/s
					when attached via USB 3.0 card reader)
				</para></listitem>
			</itemizedlist>
		</section>
		<?dbfo-need height="2.5in"?>
		<section id="usbcam">
			<title>PCCamera (USB Video Class) Mode</title>
			<indexterm><primary>Webcam</primary></indexterm>
			<para>
				This mode will turn the camera into a <glossterm linkend="usbvideo">USB Video Class device</glossterm>
				(a.k.a. web cam),
				giving your PC a live video feed from the camera,
				without the audio.
				The video feed will run at 1280x720 resolution (16:9 aspect ratio)
				with 30 FPS, using YUV 4:2:0 pixel format, Motion JPEG encoding.
			</para>
			<para>
				This mode is the way to go when you want to use the camera
				as a web cam for video call,
				or as a CCTV camera.
				(In case of video call,
				you still need to use a separate microphone;
				and beware that video latency is quite high: around 0.6 sec)
			</para>
			<para>
				The camera will cease working all other functions while operating in this mode,
				show blue LED indicator
				and show white <literal>PCCamera</literal> message in the middle of blue screen.
				When you unplug the USB cable (or hold down power button),
				the camera will turn off.
			</para>
			<para>
				Note: In this mode, the camera shows itself as USB 2.0 device
				with Vendor ID <literal>0x0603</literal> (Novatek Microelectronics Corp.),
				Product ID <literal>0x8612</literal>, Manufacturer name <quote>NOVATEK</quote>,
				and Product name <quote>J1455</quote>.
			</para>
		</section>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="hdmiconn">
		<title>HDMI</title>
		<indexterm><primary>HDMI</primary></indexterm>
		<indexterm><primary>Television</primary></indexterm>
		<para>
			The camera provides one Micro HDMI connector.
			This is used for connecting the camera directly to a TV
			or a PC monitor
			and view live video feed
			or watch stored media files
			as if it was camera's own screen
			(OSD is also displayed).
		</para>
		<para>
			When HDMI cable is connected,
			the camera will automatically turn off its own screen,
			and send HDMI video signal to your display device,
			using 1920x1080 resolution
			<emphasis>interlaced</emphasis> at 60 Hz (30 FPS),
			with low latency (&lt;= 0.2 sec).
			While camera is in this mode,
			video recording will be disabled; albeit showing the same OSD.
			(Though if you must,
			you still can start video recording
			via WiFi access in some configurations;
			see notes in <xref linkend="startrecording"/>)
			Other functions like camera mode change,
			photo shooting,
			media playing,
			Setup screen,
			and WiFi access
			are still operating normally.
			If this mode is activated while a video recording in progress,
			the video recording will be stopped.
		</para>
		<para>
			This HDMI connection also carries audio,
			so you should hear button beeps,
			shutter sounds,
			camera startup/shutdown chimes,
			and sound from media playback
			on your display device too
			(built-in speaker on the camera will be muted).
			But the audio from live video feed will not be audible,
			probably for preventing loud screech from acoustic feedback.
		</para>
		<para>
			As this mode is always automatically activated on connecting HDMI cable,
			you could turn it off by going to camera's <emphasis>Setup &gt; TV out</emphasis>
			and select <quote>Off</quote> while the HDMI cable is connected;
			and it will be re-activated if you change this setting to <quote>On</quote>.
			If HDMI is already disconnected,
			the option will already be <quote>Off</quote>.
			If you have trouble getting the camera to detect your display,
			you can turn this setting to <quote>On</quote> manually,
			which forces the camera to activate this mode.
		</para>
		<para>
			When you unplug the HDMI cable
			or set camera's <emphasis>Setup &gt; TV out</emphasis> to <quote>Off</quote>,
			the camera screen will turn back on,
			and you will be able to record video again.
		</para>
		<?dbfo-need height="2in"?>
		<note>
			<para>
				It is not advisable to leave HDMI
				<emphasis>together with USB charger</emphasis>
				plugged in while you are turning the camera on.
				If you did so,
				you would get a persistent <quote>No card inserted</quote> message
				with garbled background (instead of live video feed)
				on your display device.
				To fix this,
				you would need to turn off the camera
				by holding power button,
				unplug HDMI or USB,
				and turn the camera on again.
				(Merely unplugging HDMI is not enough)
			</para>
			<para>
				If you must use USB charging
				at the same time as viewing HDMI output;
				you can turn the camera on without HDMI first.
				Once it is ready,
				plug in the HDMI cable.
			</para>
		</note>
		<?dbfo-need height="1.2in"?>
		<para>
			Extra trivia on HDMI connection:
		</para>
		<itemizedlist>
			<listitem><para>
				Plugging-in or unplugging HDMI cable while WiFi access is enabled
				will restart camera's RTSP service.
			</para></listitem>
		</itemizedlist>
	</section>
</chapter>
<chapter id="wirelessconn">
	<title>Wireless Connection</title>
	<indexterm><primary>Network</primary></indexterm>
	<indexterm><primary>WiFi</primary></indexterm>
	<indexterm><primary>Wireless LAN</primary></indexterm>
	<indexterm><primary>WLAN</primary></indexterm>
	<indexterm><primary>WPA</primary></indexterm>
	<para>
		When WiFi access function on the camera is enabled
		(by pressing Up button),
		the camera will act as a WPA2 PSK-encrypted WiFi access point,
		which you can use regular laptop or mobile phone to connect
		by selecting the access point
		and enter the configured passphrase (<literal>12345678</literal> by default).
		For client's IP configuration,
		using automatic settings (DHCP) is recommended and convenient.
		However, manual IP configuration works too;
		see network configuration below:
	</para>
	<figure id="wirelessconndiagram">
		<title>Camera's wireless network</title>
		<mediaobject>
			<imageobject role="fo"><imagedata format="SVG" fileref="wirelessconn.svg"/></imageobject>
			<imageobject role="html"><imagedata format="PNG" fileref="wirelessconn.png"/></imageobject>
		</mediaobject>
	</figure>
	<para>
		Camera's wireless network has following IP configuration:
	</para>
	<table id="cameraipconf"><title>Camera's IP configuration</title><tgroup cols="2">
		<thead>
			<row><entry>Configuration item</entry><entry>Configuration value</entry></row>
		</thead>
		<tbody>
			<row><entry>Camera's IP address</entry><entry><emphasis role="strong">192.168.1.254</emphasis></entry></row>
			<row><entry>Subnet mask</entry><entry><emphasis role="strong">255.255.255.0</emphasis></entry></row>
			<row><entry>DNS server</entry><entry><emphasis>(None)</emphasis></entry></row>
			<row><entry>Default gateway</entry><entry><emphasis>(None)</emphasis></entry></row>
		</tbody>
	</tgroup></table>
	<para>
		If your devices connected to the network with DHCP enabled,
		their IP address will be numbered 192.168.1.12 or above.
		Also, it is worth noting that camera's IP address is hard-coded
		and cannot be changed.
	</para>
	<para>
	The camera runs following network services:
	</para>
	<itemizedlist>
		<listitem>
			<?dbfo keep-together="always"?>
			<para><indexterm><primary>DHCP</primary></indexterm><glossterm linkend="dhcp">DHCP</glossterm> (UDP port 67)</para>
			<para>
				This service is used for giving automatic IP address configuration
				for connected device.
			</para>
		</listitem>
		<listitem>
			<?dbfo keep-together="always"?>
			<para><indexterm><primary>HTTP</primary></indexterm><emphasis role="strong"><glossterm linkend="http">HTTP</glossterm> (TCP port 80)</emphasis></para>
			<para>
				This service is used for accessing files inside camera's MicroSD card
				as well as for applying camera action/configuration commands.
			</para>
		</listitem>
		<listitem>
			<?dbfo keep-together="always"?>
			<para><indexterm><primary>RTSP</primary></indexterm><emphasis role="strong"><glossterm linkend="rtsp">RTSP</glossterm> (TCP port 554)</emphasis></para>
			<para>
				<emphasis>This service is running only in video recording mode</emphasis>,
				used for streaming live video feed.
			</para>
		</listitem>
		<listitem>
			<?dbfo keep-together="always"?>
			<para><emphasis role="strong"><link linkend="statusstream">SJ4000WIFI Status Service</link> (TCP port 3333)</emphasis></para>
			<para>
				This service is used for streaming camera's status and events,
				like amount of time elapsed in current recording,
				or how much space is left for shooting photos.
			</para>
		</listitem>
		<listitem>
			<?dbfo keep-together="always"?>
			<para><emphasis role="strong">HTTP (TCP port 8192)</emphasis></para>
			<para>
				<emphasis>This service is running only in photo shooting mode</emphasis>,
				used for previewing photo shoot.
			</para>
		</listitem>
		<listitem>
			<?dbfo keep-together="always"?>
			<para><indexterm><primary>ICMP</primary></indexterm><indexterm><primary>Ping</primary></indexterm><glossterm linkend="ping">ICMP Echo</glossterm></para>
			<para>
				This service is not used for anything but diagnostic purpose.
			</para>
		</listitem>
	</itemizedlist>
	<para>
		See next chapters for information on each service
		and their roles in supporting SJCAM ZONE application.
	</para>
	<?dbfo-need height="1.2in"?>
	<para>
		Extra trivia about association with camera's wireless access point:
	</para>
	<itemizedlist>
		<listitem><para>
			Once WiFi access is enabled,
			camera will cease working other function,
			change to video recording mode,
			reset digital zoom to 1x,
			and display a black window showing current configured SSID
			and WPA2-PSK passphrase.
			Camera's yellow light will be blinking.
		</para></listitem>
		<listitem><para>
			Once the first device associated to camera's access point
			(without doing anything else),
			camera's yellow light will now lit continuously,
			and camera screen will
			be back to video recording mode display,
			and camera's Mode button will
			be locked (but still can be used for powering off),
			Up and Down button will
			cease from doing zooming function
			(and Up button is now used for turning off WiFi access),
			OK button still can be used for starting/stopping recording
			or shooting photo
			(if camera is switched to photo shooting mode by a connected device);
			until WiFi access is turned off by pressing Up button.
		</para></listitem>
		<listitem><para>
			Access point could handle more than one device simultaneously connected to it.
		</para></listitem>
		<listitem><para>
			When one device disassociates from camera's access point,
			camera's yellow light will be back to blinking,
			no matter that there're more devices still associating to it or not.
			The SSID and password display will not come back,
			unless you turn off WiFi access and turn it on again.
		</para></listitem>
		<listitem><para>
			If another device came up and associate to camera's access point,
			the yellow light will be lit continuously again.
		</para></listitem>
		<listitem><para>
			When WiFi access is turned off by pressing Up button,
			the camera will switch to video recording mode again;
			no matter which mode connected devices have currently changed camera into.
			Also,
			if there is any video recording in progress,
			the recording will be stopped too.
		</para></listitem>
	</itemizedlist>
	<?dbfo-need height="1.2in"?>
	<para>
		Extra trivia about technical implementation of camera's wireless access point:
	</para>
	<itemizedlist>
		<listitem><para>
			Access point is operated in Master mode
			(like an ordinary WiFi access point, as opposed to Ad-Hoc mode).
		</para></listitem>
		<listitem><para>
			Access point is based on 802.11 b/g standard;
			54 mbps max transfer rate.
		</para></listitem>
		<listitem><para>
			Access point's channel setting is not fixed;
			it can use different channel each time the WiFi access is enabled.
			I haven't dug deeper on how the camera choose radio channel for its access point yet,
			but I have personally seen it on channel 1 (2.412 GHz),
			channel 2 (2.417 GHz),
			channel 3 (2.422 GHz),
			channel 6 (2.437 GHz),
			channel 7 (2.442 GHz),
			and channel 11 (2.462 GHz) at least.
		</para></listitem>
		<listitem><para>
			Access point's WPA2 implementation uses only CCMP cipher.
		</para></listitem>
	</itemizedlist>
	<?dbfo-need height="1.2in"?>
	<para>
		Extra trivia about configuring camera's wireless access point:
	</para>
	<itemizedlist>
		<listitem><para>
			You cannot configure access point's SSID name to empty value.
			If you did so,
			the SSID will be set to <literal>0</literal> instead.
		</para></listitem>
		<listitem><para>
			You cannot configure access point's WPA2-PSK passphrase
			to anything that's shorter than 8 characters.
			If you did so,
			the old passphrase will be restored instead.
		</para></listitem>
	</itemizedlist>
	<?dbfo-need height="1.2in"?>
	<para>
		Extra trivia about camera's HTTP service &tcp80;:
	</para>
	<itemizedlist>
		<indexterm><primary>GPL</primary></indexterm>
		<listitem>
			<para>
				Camera's HTTP server reported in its response
				that it utilizes HTTP version 1.1
				and uses these HTTP headers in following order:
			</para>
			<table id="httpheaderlist"><title>List of HTTP headers returned from the camera</title><tgroup cols="2">
				<thead>
					<row><entry>HTTP header name</entry><entry>HTTP header value</entry></row>
				</thead>
				<tbody>
					<row><entry>Server</entry><entry><literal>eCos/1.0</literal></entry></row>
					<row><entry>Cache-Control</entry><entry><literal>no-store, no-cache, must-revalidate</literal></entry></row>
					<row><entry>Pragma</entry><entry><literal>no-cache</literal></entry></row>
					<row><entry>Accept-Ranges</entry><entry><literal>bytes</literal></entry></row>
					<row><entry>Content-Length</entry><entry><emphasis>(Varies)</emphasis></entry></row>
					<row><entry>Content-Type</entry><entry><emphasis>(Varies)</emphasis></entry></row>
					<row><entry>Connection</entry><entry><literal>close</literal></entry></row>
				</tbody>
			</tgroup></table>
			<para>
				As the server identifies itself in HTTP response as <literal>eCos/1.0</literal> ,
				I'm not sure if this is related to <ulink url="http://ecos.sourceware.org/">eCos operating system</ulink> or not;
				if it is,
				SJCAM should have included appropriate legal notice
				and source offer in the package
				as eCos is licensed under <ulink url="http://ecos.sourceware.org/ecos/license-overview.html">GNU GPL with linking exception</ulink>.
				I found no such notice in camera's software, manual, or package.
			</para>
		</listitem>
		<listitem><para>
			Camera's HTTP server doesn't seem to handle HTTP <literal>HEAD</literal> request properly.
			If you try to send it a <literal>HEAD</literal> request,
			it will simply close the connection
			instead of returning <literal>501 Not Implemented</literal>
			or <literal>405 Method Not Allowed</literal> response.
			As a consequence,
			<literal>wget --spider</literal> command won't work with it.
		</para></listitem>
	</itemizedlist>
</chapter>
<chapter id="fileaccess">
	<title>Accessing Stored Files</title>
	<indexterm><primary>File</primary></indexterm>
	<para>
		Camera's HTTP service &tcp80;
		is used for accessing all files stored on camera's MicroSD card.
		The interfaces is similar to ordinary HTTP server's directory listing page
		which you could browse directories and download files,
		but it also allow file uploading and file deletion.
		(Directory deletion requires user to enter the command URL manually.
		Limited directory creation is allowed as a side effect of file uploading.
		And operations like file renaming,
		file moving,
		directory renaming,
		and directory moving
		are not supported)
	</para>
	<?dbfo-need height="2.5in"?>
	<section id="filebrowse">
		<title>Browsing Files</title>
		<indexterm><primary>Browse</primary></indexterm>
		<indexterm><primary>Directory Listing</primary></indexterm>
		<para>
			Once your device is connected to camera's WiFi access point,
			you can access files stored in camera's MicroSD card
			by &accessingurl;
		</para>
		<programlisting>http://192.168.1.254/</programlisting>
		<para>
			Or,
			if you're going to view a specific directory:
		</para>
		<programlisting>http://192.168.1.254/<replaceable>PATH/TO/DIRECTORY</replaceable></programlisting>
		<para>
			Substitute <varname>PATH/TO/DIRECTORY</varname> with the desired directory path
			(slash-delimited).
			Trailing slash is OK but not needed (and not used by default).
			When directory URL is accessed without trailing slash,
			the camera will not produce any redirect
			and just show the directory listing.
		</para>
		<para>
			If the directory exists,
			&htmlrespsemi;
			with HTML content consisting of directory listing,
			formatted for in-browser view.
			Note that the camera didn't return document encoding information in HTTP header and HTML code,
			so it is likely to be displayed using your browser's default character encoding.
		</para>
		<para>
			In case you wish to parse the directory listing content yourself
			(like SJCAM ZONE did),
			it came in following format:
		</para>
		<programlisting><![CDATA[<html>
<body>
<div id=folderlabel>folder</div>
<div id=folder>]]><replaceable>/PATH/TO/CURRENT/DIRECTORY</replaceable><![CDATA[</div>
<div id=body>
<table cellpadding=5>
<th>Filename
<th>Filesize
<th>Filetime
<tr><td><a href="]]><replaceable>/PATH/TO/FILENAME1</replaceable><![CDATA["><b>]]><replaceable>FILENAME1</replaceable><![CDATA[</b></a><td align=right> ]]><replaceable>FILESIZE1</replaceable><![CDATA[<td align=right>]]><replaceable>FILETIME1</replaceable><![CDATA[
<td align=right><a href="]]><replaceable>/PATH/TO/FILENAME1</replaceable><![CDATA[?del=1">Remove</a>
<tr><td><a href="]]><replaceable>/PATH/TO/FILENAME2</replaceable><![CDATA["><b>]]><replaceable>FILENAME2</replaceable><![CDATA[</b></a><td align=right> ]]><replaceable>FILESIZE2</replaceable><![CDATA[<td align=right>]]><replaceable>FILETIME2</replaceable><![CDATA[
<td align=right><a href="]]><replaceable>/PATH/TO/FILENAME2</replaceable><![CDATA[?del=1">Remove</a>
<tr><td><a href="]]><replaceable>/PATH/TO/DIRNAME1</replaceable><![CDATA["><b>]]><replaceable>DIRNAME1</replaceable><![CDATA[</b></a><td align=center><i>folder</i><td align=right>]]><replaceable>DIRTIME1</replaceable><![CDATA[
<tr><td><a href="]]><replaceable>/PATH/TO/FILENAME3</replaceable><![CDATA["><b>]]><replaceable>FILENAME3</replaceable><![CDATA[</b></a><td align=right> ]]><replaceable>FILESIZE3</replaceable><![CDATA[<td align=right>]]><replaceable>FILETIME3</replaceable><![CDATA[
<td align=right><a href="]]><replaceable>/PATH/TO/FILENAME3</replaceable><![CDATA[?del=1">Remove</a>
.
.
.
<tr><td colspan="4"><hr size=1 noshade align=top></td></tr></table>
<form name=frm action="]]><replaceable>/PATH/TO/CURRENT/DIRECTORY</replaceable><![CDATA[" method=post enctype="multipart/form-data"><input name=fileupload1 size=70 type=file><br/><input name=upbtn type=submit value="Upload files"></form></div>
</body>
</html>]]></programlisting>
		<para>
			&xmlrespallcr;
			Its visible table structure is as follows:
		</para>
		<informaltable><tgroup cols="4">
			<colspec colname="filename"/>
			<colspec colname="filesize" colwidth="0.6*"/>
			<colspec colname="filetime"/>
			<colspec colname="fileaction" colwidth="0.5*"/>
			<thead>
				<row><entry>Filename</entry><entry>Filesize</entry><entry>Filetime</entry><entry></entry></row>
			</thead>
			<tbody>
				<row><entry><varname>FILENAME1</varname></entry><entry><varname>FILESIZE1</varname></entry><entry><varname>FILETIME1</varname></entry><entry>Remove</entry></row>
				<row><entry><varname>FILENAME2</varname></entry><entry><varname>FILESIZE2</varname></entry><entry><varname>FILETIME2</varname></entry><entry>Remove</entry></row>
				<row><entry><varname>DIRNAME1</varname></entry><entry><emphasis>folder</emphasis></entry><entry><varname>DIRTIME1</varname></entry><entry></entry></row>
				<row><entry><varname>FILENAME3</varname></entry><entry><varname>FILESIZE3</varname></entry><entry><varname>FILETIME3</varname></entry><entry>Remove</entry></row>
			</tbody>
		</tgroup></informaltable>
		<?dbfo-need height="1.2in"?>
		<para>
			Notes on HTML display format:
		</para>
		<itemizedlist>
			<listitem><para>
				<varname>/PATH/TO/CURRENT/DIRECTORY</varname>
				will be a path to current directory
				<emphasis>without trailing slash</emphasis>
				(no matter that URL of the directory listing has a trailing slash or not).
				If current directory is root directory,
				it will be empty.
			</para></listitem>
			<listitem><para>
				<varname>FILENAMEn</varname> will be a filename
				(including its extension),
				wrapped inside HTML <literal>&lt;b&gt;</literal> tag
				within <literal>&lt;a&gt;</literal> tag
				that links to the file.
				The link is specified as a path <emphasis>relative to root directory</emphasis>.
			</para></listitem>
			<listitem><para>
				<varname>DIRNAMEn</varname> will be a directory name
				(without trailing slash),
				wrapped inside HTML <literal>&lt;b&gt;</literal> tag
				within <literal>&lt;a&gt;</literal> tag
				that links to the directory.
				The link is specified as a path <emphasis>relative to root directory</emphasis>,
				and <emphasis>without trailing slash</emphasis>.
			</para></listitem>
			<listitem><para>
				There is one space in front of <varname>FILESIZEn</varname> in HTML code.
			</para></listitem>
			<listitem>
				<para>
					File sizes are displayed in <emphasis>binary prefix</emphasis> (byte, KiB, MiB, but not GiB),
					rounded to 2-digit decimal point.
					The size unit displayed will be <literal>B</literal>,
					<literal>KB</literal>,
					<literal>MB</literal>
					(no <emphasis>i</emphasis>),
					the unit will change as soon as file size reached the prefix;
					rounding does not affect the prefix used.
					There will be one space between file size and unit,
					file size displayed with byte unit will not show any decimal point,
					but file size displayed with other prefix unit
					will <emphasis>always</emphasis> have 2-digit decimal point.
				</para>
				<para>
					For example, a file sized 1500000000 byte will show as <literal>1430.51 MB</literal>,
					a file sized 1600000 byte will show as <literal>1.53 MB</literal>,
					a file sized 1048575 byte will show as <literal>1024.00 KB</literal>,
					a file sized 1048576 byte will show as <literal>1.00 MB</literal>, and
					a file sized 1023 byte will show as <literal>1023 B</literal> .
				</para>
			</listitem>
			<listitem>
				<para>
					<varname>FILETIMEn</varname> and <varname>DIRTIMEn</varname> will be a modification date
					of the file and directory in local timezone,
					with <literal>YYYY/MM/DD HH:mm:ss</literal> format;
					no matter which date format you chose in camera settings.
				</para>
				<itemizedlist>
					<listitem><simpara><varname>YYYY</varname> will be four-digit CE year (e.g. <literal>2016</literal>).</simpara></listitem>
					<listitem><simpara><varname>MM</varname> will be two-digit month number (e.g. <literal>09</literal> for September).</simpara></listitem>
					<listitem><simpara><varname>DD</varname> will be two-digit date (e.g. <literal>20</literal> for 20<superscript>th</superscript> day of the month).</simpara></listitem>
					<listitem><simpara><varname>HH</varname> will be two-digit hour number in 24-hour clock (e.g. <literal>17</literal> for 5 p.m.).</simpara></listitem>
					<listitem><simpara><varname>mm</varname> will be two-digit minute number.</simpara></listitem>
					<listitem><simpara><varname>ss</varname> will be two-digit second number.</simpara></listitem>
				</itemizedlist>
			</listitem>
			<listitem><para>
				File and directory name display are not properly escaped in HTML code,
				causing anomaly when encountered with unusual filename,
				e.g. a file named <literal><![CDATA[character&nbsp;ace.txt]]></literal>
				would be displayed as <literal>character ace.txt</literal> .
				But even so, file/directory access and deletion link URL are encoded properly;
				so you should have no problem accessing them.
			</para></listitem>
			<listitem><para>
				There's no link to parent directory,
				users must change the URL themselves.
			</para></listitem>
		</itemizedlist>
		<?dbfo-need height="1.2in"?>
		<para>
			Notes on directory listing behavior:
		</para>
		<itemizedlist>
			<listitem><para>
				Sorting order in directory listing is fixed to <emphasis>none</emphasis>;
				they are displayed according to the order in underlying filesystem,
				subdirectories are not separately grouped.
			</para></listitem>
			<listitem><para>
				If you're browsing root directory,
				you might notice there is one mysterious zero-byte file
				that is not really exist.
				If you try to download it,
				it will appear the same as a regular empty file.
				This is because that the camera also list a directory entry that is actually a <emphasis>volume label</emphasis>
				(if you accessed the MicroSD card from PC,
				you'll see that the filename matches with the drive name);
				this is a really odd behavior.
				If you delete this file,
				drive's volume label will be erased.
				(This does not erase volume label specified in the boot sector though,
				but most system won't use that anyway)
			</para></listitem>
			<listitem><para>
				Files and directories with characters other than ISO-8859-1 encoding,
				or with plus sign (<literal>+</literal>) in its name
				will simply be omitted from directory listing,
				and cannot be accessed even by manually entering the URL.
				The filename character set oddities is due to the fact
				that the camera supports only ISO-8859-1 encoding
				when reading VFAT long filenames;
				exception to this are filenames that fits DOS's 8.3 pattern
				and stored without long filename-
				they will be displayed without any conversion.
			</para></listitem>
			<listitem><para>
				Dotfiles (files and directories with <literal>.</literal> as first character in its name)
				are omitted from directory listing,
				but can be accessed if you entered their URL manually.
			</para></listitem>
			<listitem><para>
				The camera ignores FAT's Hidden attribute.
				Files and directories with hidden attribute will be displayed in directory listing
				and can be accessed normally.
			</para></listitem>
			<listitem><para>
				Root directory always exists,
				even there's no MicroSD card inserted in the camera.
				(It will show as empty directory though)
			</para></listitem>
		</itemizedlist>
		<para>
			Following is an example HTML code of directory listing
			(returned from accessing <literal>http://192.168.1.254/DCIM/MOVIE</literal>):
		</para>
		<programlisting><![CDATA[<html>
<body>
<div id=folderlabel>folder</div>
<div id=folder>/DCIM/MOVIE</div>
<div id=body>
<table cellpadding=5>
<th>Filename
<th>Filesize
<th>Filetime
<tr><td><a href="/DCIM/MOVIE/2016_1001_233301_005.MOV"><b>2016_1001_233301_005.MOV</b></a><td align=right> 5.88 MB<td align=right>2016/10/01 23:33:04
<td align=right><a href="/DCIM/MOVIE/2016_1001_233301_005.MOV?del=1">Remove</a>
<tr><td><a href="/DCIM/MOVIE/2016_1001_234112_006.MOV"><b>2016_1001_234112_006.MOV</b></a><td align=right> 313.51 MB<td align=right>2016/10/01 23:43:56
<td align=right><a href="/DCIM/MOVIE/2016_1001_234112_006.MOV?del=1">Remove</a>
<tr><td><a href="/DCIM/MOVIE/2016_1001_232659_003.MOV"><b>2016_1001_232659_003.MOV</b></a><td align=right> 344.05 MB<td align=right>2016/10/01 23:30:00
<td align=right><a href="/DCIM/MOVIE/2016_1001_232659_003.MOV?del=1">Remove</a>
<tr><td><a href="/DCIM/MOVIE/2016_1001_233000_004.MOV"><b>2016_1001_233000_004.MOV</b></a><td align=right> 343.95 MB<td align=right>2016/10/01 23:33:00
<td align=right><a href="/DCIM/MOVIE/2016_1001_233000_004.MOV?del=1">Remove</a>
<tr><td><a href="/DCIM/MOVIE/1.6M"><b>1.6M</b></a><td align=right> 1.53 MB<td align=right>2016/09/16 18:59:04
<td align=right><a href="/DCIM/MOVIE/1.6M?del=1">Remove</a>
<tr><td><a href="/DCIM/MOVIE/MYVID"><b>MYVID</b></a><td align=center><i>folder</i><td align=right>2016/10/01 23:54:12
<tr><td><a href="/DCIM/MOVIE/1M.DAT"><b>1M.DAT</b></a><td align=right> 1024.00 KB<td align=right>2016/09/16 19:07:16
<td align=right><a href="/DCIM/MOVIE/1M.DAT?del=1">Remove</a>
<tr><td><a href="/DCIM/MOVIE/FULL1M.BIN"><b>FULL1M.BIN</b></a><td align=right> 1.00 MB<td align=right>2016/09/16 19:11:28
<td align=right><a href="/DCIM/MOVIE/FULL1M.BIN?del=1">Remove</a>
<tr><td colspan="4"><hr size=1 noshade align=top></td></tr></table>
<form name=frm action="/DCIM/MOVIE" method=post enctype="multipart/form-data"><input name=fileupload1 size=70 type=file><br/><input name=upbtn type=submit value="Upload files"></form></div>
</body>
</html>]]></programlisting>
		<para>
			If the directory is not exist,
			&htmloddrespsemi;
			with following HTML content:
		</para>
		<programlisting><?dbfo keep-together="always"?><![CDATA[<html>
<head><title>Page Not found</title></head>
<body><h2>The requested URL was not found on this server.</h2></body>
</html>]]></programlisting>
		<para>
			&xmlrespallcr;
		</para>
		<para>
			If the specified path does exist,
			but is a file (not directory);
			it will start file downloading instead.
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Extra trivia about SJCAM ZONE's media files listing:
		</para>
		<itemizedlist>
			<listitem><para>
				SJCAM ZONE also use this way to retrieve media files listing.
			</para></listitem>
			<listitem><para>
				In SJCAM ZONE,
				only list of files in <literal>/DCIM/MOVIE</literal>
				and <literal>/DCIM/PHOTO</literal>
				are retrieved and displayed;
				files from <literal>/DCIM/MOVIE</literal> are grouped first,
				followed by files from <literal>/DCIM/PHOTO</literal>.
				Within each group,
				files are displayed in original filesystem order.
				All files are displayed and downloadable (regardless of extension).
			</para></listitem>
			<listitem><para>
				SJCAM ZONE does not handle directory placed within <literal>/DCIM/MOVIE</literal>
				and <literal>/DCIM/PHOTO</literal> correctly;
				directory's entry in the list will show incorrect size and time
				(jumble of HTML code will be displayed instead).
				And the file listed next to the directory (in the same group)
				will not be displayed.
				If you clicked on the directory,
				its directory listing's HTML page will be downloaded to your device
				(rather than files inside it),
				with directory name as a file name,
				no file extension.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="filedownload">
		<title>Downloading File</title>
		<indexterm><primary>Download</primary></indexterm>
		<para>
			File from camera's MicroSD card can be downloaded
			in the same manner as normal file from web server.
			If you are already browsing from the directory listing,
			simply clicking the file name link in the directory listing should do the trick.
			Alternatively,
			you could start the download manually by going to a URL:
		</para>
		<programlisting>http://192.168.1.254/<replaceable>PATH/TO/FILE</replaceable></programlisting>
		<para>
			Substitute <varname>PATH/TO</varname> and <varname>FILE</varname>
			with directory path and file name you are going to download,
			e.g. if I need to download file named <literal>2016_0101_160315_001.JPG</literal>
			which is located inside subdirectory <literal>PHOTO</literal>,
			inside the directory <literal>DCIM</literal>,
			I would need to enter the URL: <literal>http://192.168.1.254/DCIM/PHOTO/2016_0101_160315_001.JPG</literal> .
			Path with trailing slash also works;
			which is an odd behavior,
			and it does not even generate a redirect.
		</para>
		<para>
			If the file is not exist,
			the camera will return a response identical
			to the one returned from a request for nonexistent directory.
			However, if the specified path does exist,
			but is a directory (not file);
			it will return directory listing instead.
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Extra trivia on file downloading:
		</para>
		<itemizedlist>
			<listitem><para>
				Camera's HTTP server has download continuation support,
				if your WiFi connection dropped (or battery was dead),
				you can resume your download when you're on again.
			</para></listitem>
			<listitem><para>
				HTTP download from the camera has effective transfer rate
				topped around 1.4 MiB/s in single connection;
				not fast enough for directly viewing its recorded 1920x1080 30 FPS
				or 1280x720 60 FPS video
				(you'll experience constant hiccups).
				For 1280x720 30 FPS video and lower,
				it should play okay.
			</para></listitem>
			<listitem><para>
				Camera's HTTP server could handle maximum 4 simultaneous connections in total
				(no matter which files they request),
				with combined transfer rate topped at around 1.8 MiB/s.
				If you try to make a fifth request,
				the camera will reply with the same response as nonexistent file request
				even the file pointed by your request URI is exist.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="filedelete">
		<title>Deleting File and Directory</title>
		<indexterm><primary>Delete</primary></indexterm>
		<indexterm><primary>Remove</primary></indexterm>
		<para>
			You can delete specific file or directory from camera's MicroSD card
			by accessing URL of the file or directory with query string <literal>?del=1</literal> appended:
		</para>
		<programlisting>http://192.168.1.254/<replaceable>PATH/TO/FILE</replaceable>?del=1</programlisting>
		<para>
			Substitute <varname>PATH/TO</varname> and <varname>FILE</varname>
			with directory path and file name (or directory name) you are going to delete.
			In case you're deleting a directory,
			a path with trailing slash also works,
			and deleting nonempty directory is also allowed.
		</para>
		<para>
			For example, if I need to delete a file named <literal>2016_0101_191600_003.MOV</literal>
			which is located inside subdirectory <literal>MOVIE</literal>,
			inside the directory <literal>DCIM</literal>,
			I would need to enter the URL:
			<literal>http://192.168.1.254/DCIM/MOVIE/2016_0101_191600_003.MOV?del=1</literal>.
			If I need to delete a directory named <literal>EXTRAS</literal>
			which is located inside the directory <literal>DCIM</literal>,
			I would need to enter the URL:
			<literal>http://192.168.1.254/DCIM/EXTRAS?del=1</literal> or <literal>http://192.168.1.254/DCIM/EXTRAS/?del=1</literal>
		</para>
		<para>
			If you have already browsing from the directory listing,
			simply clicking a link named <quote>Remove</quote> shown on the right side of desired filename
			will do the deletion.
			(But this link is not provided for directory,
			you need to enter the URL yourself in that case)
			Also keep in mind that this will delete the file or directory
			without any confirmation.
		</para>
		&xmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>4003</Cmd>
<Status>]]><replaceable>STATUS</replaceable><![CDATA[</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			<varname>STATUS</varname> part of the response
			will be one of the following file deletion command status values:
		</para>
		<table id="filedeletestatus"><title>List of file deletion status values</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Command status value</entry><entry>Command status meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Specified file or directory is deleted successfully.</entry></row>
				<row><entry>-1</entry><entry>Failed deleting specified file or directory.</entry></row>
			</tbody>
		</tgroup></table>
		<?dbfo-need height="1.2in"?>
		<para>
			Cause of deletion failure can be:
		</para>
		<itemizedlist>
			<listitem><para>There's no MicroSD card in the camera.</para></listitem>
			<listitem><para>File/directory specified in the URL is not exist.</para></listitem>
			<listitem><para>File/directory specified in the URL is located within nonexistent directory.</para></listitem>
			<listitem><para>
				File specified in the URL is currently in use (e.g. other connection is downloading it).
				In this case, camera will refuse to delete the file.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="fileupload">
		<title>Uploading File</title>
		<indexterm><primary>Upload</primary></indexterm>
		<para>
			The easiest way to upload file to the directory on camera's MicroSD card,
			is browsing through camera's directory listing,
			scroll to the bottom of directory listing page
			where you'll find a <quote>Browse</quote> button,
			click and select file on your machine to upload,
			then click <quote>Upload files</quote> to start uploading.
		</para>
		<para>
			If you wish to do this manually,
			send HTTP POST request to the following URL:
		</para>
		<programlisting>http://192.168.1.254/<replaceable>PATH/TO/DIRECTORY</replaceable></programlisting>
		<para>
			Substitute <varname>PATH/TO/DIRECTORY</varname> with the actual <emphasis>directory</emphasis> path
			you wish to upload your file to
			(trailing slash is also allowed).
			In request header,
			use <literal>multipart/form-data</literal> content type<footnote id="multipartform"><para>
				See RFC 7578 for details on structure of <quote>multipart/form-data</quote> request body: <ulink url="https://tools.ietf.org/html/rfc7578"/>
			</para></footnote>,
			and send following content parts in request body:
		</para>
		<informaltable><tgroup cols="3">
			<thead>
				<row><entry><literal>Content-Disposition</literal> value</entry><entry><literal>Content-Type</literal> value</entry><entry>Part's content</entry></row>
			</thead>
			<tbody>
				<row><entry><literal>form-data; name="fileupload1"; filename="<replaceable>TARGETFILENAME</replaceable>"</literal></entry><entry><emphasis>(Varies)</emphasis></entry><entry><emphasis>(Content of uploaded file)</emphasis></entry></row>
				<row><entry><literal>form-data; name="upbtn"</literal></entry><entry><literal>text/plain</literal></entry><entry><literal>Upload files</literal></entry></row>
			</tbody>
		</tgroup></informaltable>
		<para>
			Substitute <varname>TARGETFILENAME</varname> with the filename you wish to upload the file as
			(original file name works too). For uploaded file's content type field, it varies, depends how your
			browser see the type of file you're uploading (e.g. <literal>text/plain</literal> when uploading file with <literal>.txt</literal>
			extension or <literal>audio/mpeg</literal> when uploading file with <literal>.mp3</literal> extension);
			it does not have effect on file downloading, you can just use <literal>application/octet-stream</literal> too if you want.
		</para>
		<para>
			You can also use the command-line <glossterm linkend="curl">cURL</glossterm> program for uploading, as follows:
		</para>
		<programlisting>curl -F "fileupload1=@<replaceable>LOCALFILE</replaceable>" -F "upbtn=Upload files" http://192.168.1.254/<replaceable>PATH/TO/DIRECTORY</replaceable></programlisting>
		<para>
			Substitute <varname>LOCALFILE</varname> with path to file you wish to upload (on local machine),
			and <varname>PATH/TO/DIRECTORY</varname> with path to directory (on the camera) you wish to
			upload the file to.
		</para>
		&xmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<cmd>3031</cmd>
<Status>]]><replaceable>UPLOADSTATUS</replaceable><![CDATA[</Status>
</Function>
]]></programlisting>
		<para>
			&xmlrespcr; <varname>UPLOADSTATUS</varname> part of the response
			will be one of the following file uploading status values:
		</para>
		<table id="fileuploadstatus"><title>List of file uploading status values</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>File uploading status value</entry><entry>File uploading status meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>File uploading completed successfully.</entry></row>
				<row><entry>-1</entry><entry>File uploading failed: a file or directory with the same name is already exists.</entry></row>
				<row><entry>-3</entry><entry>
					File uploading failed: there's no MicroSD card in the camera,
					or not enough space left on the MicroSD card.
				</entry></row>
				<row><entry>-4</entry><entry>File uploading failed: no file was specified in the upload form.</entry></row>
			</tbody>
		</tgroup></table>
		<?dbfo-need height="1.2in"?>
		<para>
			Important notes:
		</para>
		<itemizedlist>
			<listitem><para>
				File uploading status <literal>-4</literal> can be caused by
				omitting <literal>fileupload1</literal> field in the request,
				giving <literal>fileupload1</literal> field with empty filename
				(e.g. clicking <quote>Upload files</quote> without selecting any file),
				or giving <literal>fileupload1</literal> field without filename parameter
				(e.g. submitting it as non-file field).
			</para></listitem>
			<listitem><para>
				If there is not enough space for the new file,
				the camera will return the response in the middle of upload
				(with uploading status <literal>-3</literal>),
				then reset the connection.
				The file will not be saved in this case.
			</para></listitem>
		</itemizedlist>
		<para>
			Uploading file to non-existing directory
			will cause the target directory <emphasis>tree</emphasis>
			(not just the last level of directory)
			to be created automatically,
			and the camera will return a response identical to successful upload.
		</para>
		<para>
			If you uploaded a file that its name is within 8 characters
			and extension that is within 3 characters or without extension at all
			(name that fits DOS 8.3 filename);
			the uploaded file name will be converted to all uppercase,
			and VFAT long file name creation will be omitted.
			This also applies to directory names created in the process.
		</para>
		<para>
			If the filename does not fit DOS 8.3 pattern
			<emphasis>and</emphasis> contains non-ASCII characters,
			VFAT long file name will be created with an assumption
			that uploaded filename is encoded in ISO-8859-1 character set.
			This also applies to directory names created in the process.
		</para>
		<?dbfo-need height="1.5in"?>
		<caution>
			<para>
				If you attempt to upload file into any path <emphasis>nested under existing file</emphasis>
				as if it was a directory,
				<emphasis role="strong">the camera will not stop you</emphasis>:
				It apparently created a directory <emphasis>with the same name</emphasis>
				as your existing file,
				and put your uploaded file inside it.
				Consequences are:
			</para>
			<itemizedlist>
				<listitem><para>
					You'll never see the newly-created directory in camera's directory listing;
					only the existing file (which you tried to upload into) is seen.
					Entering the directory URL manually,
					with or without trailing slash,
					won't work,
					as it will just download the original existing file.
				</para></listitem>
				<listitem><para>
					You'll have to enter the <emphasis>URL to file</emphasis> manually
					to be able to download the file you uploaded this way.
				</para></listitem>
				<listitem><para>
					If you popped the MicroSD card out,
					insert it to your computer,
					and try to browse the affected directory,
					you would find only the original existing file;
					the file you uploaded will be nowhere in sight.
				</para></listitem>
				<listitem><para>
					It is yet not known how the camera store directory entries
					for files uploaded this way.
					If you checked the MicroSD card with a filesystem diagnostic tool,
					you would not see duplicate name in the directory;
					but the affected files would be found as lost clusters
					(orphaned inode, in case you prefer Unix term).
				</para></listitem>
			</itemizedlist>
		</caution>
	</section>
</chapter>
<chapter id="livefeed">
	<title>Obtaining Live Video Feed</title>
	<indexterm><primary>RTSP</primary></indexterm>
	<indexterm><primary>Streaming</primary></indexterm>
	<para>
		Camera's RTSP service (on TCP port 554)
		is used for streaming live video captured from camera.
		This service is available when the camera is in video recording mode
		(which is the default mode when WiFi access is enabled)
		and timelapse video recording mode.
		You can use any RTSP-capable media player program
		(e.g. <glossterm linkend="vlc">VLC Media Player</glossterm>,
		<glossterm linkend="mplayer">MPlayer</glossterm>)
		to stream video from it.
	</para>
	<para>
		To obtain a live video feed,
		start your media player,
		and enter the following URL:
	</para>
	<programlisting>rtsp://192.168.1.254/sjcam.mov</programlisting>
	<para>
		You'll see a live video preview of what that would be recorded
		when you press the record button,
		so you'd notice (if it's not disabled in camera's configuration)
		that there's a timestamp displayed at bottom-left corner of the video.
		The stream is running on <glossterm linkend="rtp">RTP</glossterm> transport;
		video part is encoded in H.264 with YUV 4:2:0 pixel format,
		30 FPS frame rate.
		This stream does not include audio or any bit rate information.
	</para>
	<itemizedlist>
		<listitem><para>
			If the configured video recording resolution has 16:9 aspect ratio,
			the stream video will have 640x360 resolution,
			with bit rate estimated around 1640 kbps to 1650 kbps give or take.
		</para></listitem>
		<listitem><para>
			If the configured video recording resolution has 4:3 aspect ratio,
			the stream video will have 320x240 resolution,
			with bit rate estimated around 1615 kbps to 1640 kbps give or take.
		</para></listitem>
	</itemizedlist>
	<para>
		Camera's RTSP service allows only one stream at a time,
		if there's second request made to the service while the first stream is running,
		the first stream will be terminated
		(even when the second request just accessed nonexistent stream URL
		and was given a <literal>Stream Not Found</literal> error).
	</para>
	<para>
		If any of connected devices switched the camera to photo shooting mode,
		the video feed (and camera's entire RTSP service) will terminate.
		If you wish to stream a preview from photo shooting mode's viewfinder,
		there is a separate service for it, described in <xref linkend="photoshoot"/>.
	</para>
	<?dbfo-need height="1.5in"?>
	<note>
		<title>Caveat</title>
		<para>
			There is a problem in camera's RTSP service
			that when you changed video recording resolution via WiFi access
			which changed video's aspect ratio (4:3 from/to 16:9),
			the streaming service will not properly acknowledge this change
			(and didn't terminate the running stream).
			If the previous ratio was 16:9,
			you'll see that the streamed video will still be in 640x360 (16:9),
			retain the normal timestamp overlay font and text size,
			left side of the video will show the current 4:3 video feed,
			and smaller right side will be stuck in a loop
			of ~0.5 sec video captured before resolution change.
			If the previous ratio was 4:3,
			the streamed video is still be in 320x240 (4:3),
			retain square-looking overlay timestamp text,
			and will show only left side of the actual video to be recorded.
		</para>
		<para>
			This could be fixed by forcing the camera to restart its RTSP service,
			either by switching WiFi access off and on again
			(merely re-connecting to RTSP service
			or disassociating from access point are not enough);
			or alternatively,
			use WiFi access to switch the camera to photo shooting mode
			(stopping RTSP service in the process)
			then switch back to video recording mode again.
		</para>
		<para>
			Video's aspect ratio changed by camera's own Setup screen
			will not result in this problem,
			as the Setup screen can only be accessed while the WiFi access is turned off;
			when WiFi access is turned on again,
			RTSP service would be already in a correct aspect ratio from the start.
		</para>
	</note>
	<?dbfo-need height="1.2in"?>
	<para>
		Important notes:
	</para>
	<itemizedlist>
		<listitem><para>
			Starting/stopping video recording (including timelapse video recording),
			or plugging/unplugging HDMI cable
			will restart camera's RTSP service;
			terminating video stream.
			You'll need to reconnect in order to continue viewing the live video feed.
		</para></listitem>
		<listitem>
			<para>
				It is <emphasis role="strong">not recommended</emphasis> to use RTSP service
				while <emphasis>timelapse video recording</emphasis> takes place;
				or moments afterward (unless you applied workaround described below).
			</para>
			<para>
				This is because starting timelapse video recording
				will change live video feed into 1920x1080 resolution
				with advertised frame rate of 30 FPS,
				but the camera will emit each frame
				at the same rate as the running timelapse capture
				(e.g. 1 frame/sec).
				Media players don't seem to handle this very well:
				some stuck in an endless attempt to buffer,
				some displayed frame as soon as it arrives
				but terminated stream prematurely when it realized something was wrong.
			</para>
			<para>
				When the timelapse video recording stops,
				despite the RTSP service being restarted,
				it would continue providing feed in 1920x1080 resolution at 30 FPS-
				though now the frames will be captured in real time.
				At a glance,
				this would appear as good thing (HD video);
				but due to bitrate limitation,
				the video will be blocky,
				have a large delay,
				and become garbled on intensive movement,
				which makes it less suitable as a preview.
			</para>
			<para>
				The live video feed could be restored into a usable state again
				by switching the camera to photo shooting mode
				or timelapse photo shooting mode,
				then switch to normal video recording mode.
				(Actually,
				switching to normal video recording mode,
				followed by recording video works too)
				See <xref linkend="modeswitch"/> and <xref linkend="startrecording"/>
				for details on how to do each step.
			</para>
		</listitem>
	</itemizedlist>
	<?dbfo-need height="1.2in"?>
	<para>
		Extra trivia on live video feed function:
	</para>
	<itemizedlist>
		<indexterm><primary>LGPL</primary></indexterm>
		<listitem><para>
			When the configured video recording resolution has 4:3 aspect ratio,
			camera will use square-looking font in timestamp overlay;
			this applies to the file recorded too.
		</para></listitem>
		<listitem><para>
			If timestamp is not disabled in the configuration,
			when viewing live video feed without any recording in progress,
			the timestamp will be located at the bottom-left corner of the feed.
			But if you view the feed while a video is recording,
			the timestamp will be at the bottom-right corner instead.
			(The recorded video will always have timestamp at the bottom-<emphasis>left</emphasis> corner)
			This is an odd behavior.
		</para></listitem>
		<listitem><para>
			SJCAM ZONE identified itself on RTSP as <literal>LibVLC/2.2.0-pre1 (LIVE555 Streaming Media v2014.05.27)</literal> .
			Since VideoLAN's <ulink url="https://wiki.videolan.org/LibVLC">LibVLC</ulink>
			is licensed under <ulink url="https://www.gnu.org/licenses/old-licenses/lgpl-2.1.html">GNU LGPLv2.1+</ulink>,
			SJCAM should have included appropriate legal notices
			and source offer in SJCAM ZONE's About screen.
			But from what I have observed-
			I found none.
		</para></listitem>
		<listitem><para>
			Camera's RTSP server identified itself as <literal>LIVE555 Streaming Media v2013.07.03</literal> .
			Since <glossterm linkend="live555">LIVE555</glossterm> media server is also licensed under GNU LGPLv2.1+,
			SJCAM should have included appropriate legal notices/source offer in camera manual
			and provide re-linkable object files download location (or physical media).
			But from what I have observed-
			I found none.
		</para></listitem>
	</itemizedlist>
</chapter>
<chapter id="videorecord">
	<title>Recording Videos</title>
	<indexterm><primary>HTTP</primary></indexterm>
	<indexterm><primary>Timelapse Video</primary></indexterm>
	<indexterm><primary>Video Recording</primary></indexterm>
	<para>
		Camera's HTTP service &tcp80;
		is also used for video recording commands.
		In order to record a video,
		camera must be in either video recording mode or timelapse video recording mode.
		(The camera will be in video recording mode by default;
		but if you previously changed to photo shooting or timelapse photo shooting mode,
		you must change it back first).
	</para>
	<?dbfo-need height="1.2in"?>
	<para>
		Important notes:
	</para>
	<itemizedlist>
		<listitem><para>
			In timelapse video recording mode,
			the camera <emphasis role="strong">will always record video in 1920x1080 resolution with 30 FPS playback frame rate</emphasis>,
			no matter which video recording resolution/frame rate mode you set
			from camera's Setup screen or WiFi access.
			See notes in <xref linkend="videoresolution"/> for caveats related to this problem.
		</para></listitem>
	</itemizedlist>
	<para>
		Extra trivia on video recording:
	</para>
	<itemizedlist>
		<listitem><para>
			Timelapse video recording will not record audio,
			and resulting video file will not have any audio track.
		</para></listitem>
	</itemizedlist>
	<?dbfo-need height="2.5in"?>
	<section id="startrecording">
		<title>Starting Video Recording</title>
		<para>
			In video or timelapse video recording mode,
			to start video recording,
			&accessurl;
		</para>
		<programlisting><?dbfo keep-together="always"?><![CDATA[http://192.168.1.254/?custom=1&cmd=2001&par=1]]></programlisting>
		&xmlresp;
		<programlisting><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>2001</Cmd>
<Status>]]><replaceable>STATUS</replaceable><![CDATA[</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			<varname>STATUS</varname> part of the response
			will be one of the following video recording start command status values:
		</para>
		<table id="startrecordingstatus"><title>List of video recording start command status values</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Command status value</entry><entry>Command status meaning</entry></row>
			</thead>
			<tbody>
				<row>
					<entry>0</entry>
					<entry>Video recording is now started, or is already started.</entry>
				</row>
				<row>
					<entry>-11</entry>
					<entry>Recording start failed: there's not enough space on MicroSD card to start video recording.</entry>
				</row>
				<row>
					<entry>-13</entry>
					<entry>Recording start failed: the camera is not in video recording mode.</entry>
				</row>
				<row>
					<entry>-22</entry>
					<entry>Recording start failed: there's no MicroSD card in the camera.</entry>
				</row>
			</tbody>
		</tgroup></table>
		<?dbfo-need height="1.2in"?>
		<para>
			Important notes:
		</para>
		<itemizedlist>
			<listitem><para>
				Starting video recording or timelapse video recording will restart camera's RTSP service.
				If you are streaming camera's live video feed,
				you will need to reconnect.
			</para></listitem>
			<listitem>
				<para>
					An attempt to start non-timelapse video recording via WiFi access
					while external HDMI display is enabled,
					would work only when the configured video recording resolution
					<emphasis role="strong">is not 1920x1080 30 FPS</emphasis>.
				</para>
				<para>
					If you attempt to record in 1920x1080 30 FPS
					while HDMI display is enabled anyway,
					<emphasis>HTTP and XML response will still be the same</emphasis>
					and video recording start status message will be emitted,
					but the recording would not actually start,
					and datetime display on camera OSD would freeze
					(and refresh only at the time that camera changes mode).
					If you attempted to start the recording again,
					the command would return status <literal>-13</literal>.
				</para>
				<para>
					Moreover,
					if you tried to change the camera to photo shooting
					or timelapse photo shooting mode afterward,
					<emphasis role="strong">camera firmware will crash</emphasis>
					(can only hold down power button to turn off).
					Changing to timelapse video recording mode is okay,
					but starting recording would still return status <literal>-13</literal>.
					If you try to turn the camera off
					(either by holding down power button,
					or via WiFi access),
					the shutdown chime will not be heard,
					and camera would crash just before it can completely powered down
					(screen is off, but yellow and blue light would still be on;
					hold down power button again to turn it off).
				</para>
			</listitem>
			<listitem><para>
				Video recording will automatically stop when all space on MicroSD card is used up
				(and corresponding status message will be emitted).
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="stoprecording">
		<title>Stopping Video Recording</title>
		<para>
			In video or timelapse video recording mode,
			to stop video recording,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=2001&par=0]]></programlisting>
		<para>
			Once the recording is completely stopped,
			&partxmlresp;
		</para>
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>2001</Cmd>
<Status>]]><replaceable>STATUS</replaceable><![CDATA[</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			<varname>STATUS</varname> part of the response
			will be one of the following video recording stop command status values:
		</para>
		<table id="stoprecordingstatus"><title>List of video recording stop command status values</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Command status value</entry><entry>Command status meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Video recording is now stopped, or is already stopped.</entry></row>
				<row><entry>-13</entry><entry>The camera is not in video recording mode.</entry></row>
				<row><entry>-22</entry><entry>There's no MicroSD card in the camera.</entry></row>
			</tbody>
		</tgroup></table>
		<?dbfo-need height="1.2in"?>
		<para>
			Important notes:
		</para>
		<itemizedlist>
			<listitem><para>
				Stopping video recording or timelapse video recording will restart camera's RTSP service.
				If you are streaming camera's live video feed,
				you will need to reconnect.
			</para></listitem>
		</itemizedlist>
	</section>
</chapter>
<chapter id="cameramode">
	<title>Camera Modes</title>
	<indexterm><primary>Burst Mode</primary></indexterm>
	<indexterm><primary>Continuous Shooting</primary></indexterm>
	<indexterm><primary>Timelapse Photography</primary></indexterm>
	<indexterm><primary>Timelapse Video</primary></indexterm>
	<para>
		The camera has four operating mode:
		video recording mode,
		timelapse video recording mode,
		photo shooting mode,
		and timelapse photo shooting mode.
		In both video modes,
		you can't shoot any photo.
		In both photo modes,
		you can't record any video.
		When WiFi access is enabled,
		the camera will automatically switch to <emphasis>video recording mode</emphasis>
		(or <emphasis>timelapse video recording mode</emphasis>, if it was enabled in camera's Setup screen).
		So,
		in order to shoot some photos,
		you must switch to photo shooting mode first.
	</para>
	<para>
		Camera's mode could be set
		and queried from its HTTP service &tcp80;.
	</para>
	<?dbfo-need height="2.5in"?>
	<section id="modeswitch">
		<title>Switching Camera Mode</title>
		<para>
			In order to do switch the camera to different mode,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3001&par=]]><replaceable>MODENUMBER</replaceable></programlisting>
		<para>
			Substitute <varname>MODENUMBER</varname> with one of the following camera mode numbers:
		</para>
		<table id="modeswitchnum"><title>List of camera mode numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Camera mode number</entry><entry>Camera mode</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Photo shooting mode</entry></row>
				<row><entry>1</entry><entry>Video recording mode</entry></row>
				<row><entry>3</entry><entry>Timelapse video recording mode</entry></row>
				<row><entry>4</entry><entry>Timelapse photo shooting mode</entry></row>
			</tbody>
		</tgroup></table>
		<para>
			After switched to the target mode,
			&partxmlresp;
		</para>
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3001</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Notes:
		</para>
		<itemizedlist>
			<listitem><para>
				If you access this URL when the camera is already in the target mode,
				it will have no effect
				(except some certain status message being emitted).
			</para></listitem>
			<listitem>
				<para>
					If there's a video recording,
					timelapse video recording,
					or timelapse photo shooting in progress
					when you're trying to change to different mode,
					the result varies:
				</para>
				<itemizedlist>
					<listitem><para>
						If you're recording video or timelapse video
						and attempt to change to any photo modes,
						the recording will stop,
						without video recording stop event status message emitted.
					</para></listitem>
					<listitem><para>
						If you're shooting timelapse photos
						and attempt to change to any video modes,
						as HTTP and XML response is returned,
						you'll briefly see the changed mode on camera screen.
						But when timelapse photo timer fires again,
						<emphasis role="strong">camera's firmware will crash</emphasis>;
						the screen will freeze. entire WiFi access point will stop
						and all buttons will stop working (including power button).
						You will have to pull the battery out to turn it off.
					</para></listitem>
					<listitem><para>
						If you're recording video
						and attempt to change to timelapse video recording mode,
						the recording will continue in non-timelapse mode
						(in spite of icon displayed on camera screen).
					</para></listitem>
					<listitem><para>
						If you're recording timelapse video
						and attempt to change to normal video recording mode,
						the recording will continue in timelapse mode
						(in spite of icon displayed on camera screen),
						but video recording time event message
						will be emitted every second passed in recorded video's duration
						instead of every second of wall-clock time.
					</para></listitem>
				</itemizedlist>
				<para>
					So,
					when you're writing application that changes camera mode,
					as a rule of thumb:
					avoid changing camera mode while there's video recording
					or timelapse photo shooting in progress.
					Instead,
					warn user first,
					then stop the recording/shooting
					before proceeding to change the camera mode.
				</para>
			</listitem>
			<listitem><para>
				In all cases,
				<emphasis>HTTP and XML response will be the same</emphasis>.
			</para></listitem>
			<listitem><para>
				If you are going to change camera setting item
				that is not settable in the previous camera mode,
				you would need wait a short time (around half of second) after mode change response
				before trying to change the setting;
				or else the camera would ignore your new setting.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="modequery">
		<title>Checking Camera Mode</title>
		<para>
			To check for current mode the camera is operating in,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3016]]></programlisting>
		&xmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3016</Cmd>
<Status>]]><replaceable>MODENUMBER</replaceable><![CDATA[</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			and <varname>MODENUMBER</varname> part will be one of these camera mode numbers:
		</para>
		<table id="modequerynum"><title>List of returned camera mode numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Camera mode number</entry><entry>Camera mode</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Photo shooting mode</entry></row>
				<row><entry>1</entry><entry>Video recording mode</entry></row>
				<row><entry>3</entry><entry>Timelapse video recording mode</entry></row>
				<row><entry>4</entry><entry>Timelapse photo shooting mode</entry></row>
			</tbody>
		</tgroup></table>
	</section>
</chapter>
<chapter id="photoshoot">
	<title>Shooting Photos</title>
	<indexterm><primary>Photoshooting</primary></indexterm>
	<indexterm><primary>HTTP</primary></indexterm>
	<para>
		Camera's HTTP service &tcp80;
		is also used for photo shooting commands.
		In order to view the viewfinder or shoot a photo,
		camera must be in photo shooting mode first.
		(Read <xref linkend="modeswitch"/> to see how.
		Also,
		please note that when WiFi access is enabled,
		the camera will be in <emphasis>video recording mode</emphasis> by default)
		In case of timelapse photo shooting,
		the camera would have to be in timelapse photo shooting mode instead.
	</para>
	<?dbfo-need height="2.5in"?>
	<section id="viewfinder">
		<title>Previewing Before Shooting</title>
		<indexterm><primary>Viewfinder</primary></indexterm>
		<indexterm><primary>Streaming</primary></indexterm>
		<para>
			Camera's HTTP service on TCP port 8192
			is used for streaming previews (viewfinder view) before shooting photo.
			This service is available only when the camera is in photo shooting
			or timelapse photo shooting mode.
		</para>
		<para>
			To display preview,
			&accessurl;
		</para>
		<programlisting>http://192.168.1.254:8192/</programlisting>
		<para>
			The camera will return HTTP 200 response with MIME multipart content<footnote id="mimemultipart"><para>
				See RFC 2046 for details on structure of multipart MIME message: <ulink url="https://tools.ietf.org/html/rfc2046#section-5.1"/>
			</para></footnote>
			using a nonstandard <literal>multipart/x-mixed-replace</literal> content type.
			Each part in the response will use <literal>image/jpeg</literal> content type
			and appropriate content length,
			with JPEG content that is a single frame view of the viewfinder.
			Resolution of each preview frame depends on current photo shooting resolution setting:
		</para>
		<itemizedlist>
			<listitem><para>
				If the configured photo shooting resolution has 4:3 aspect ratio,
				each preview frame will have 640x480 resolution.
			</para></listitem>
			<listitem><para>
				If the configured photo shooting resolution has 16:9 aspect ratio,
				each preview frame will have 640x360 resolution.
			</para></listitem>
		</itemizedlist>
		<para>
			The multipart stream will continue endlessly;
			subsequent part will quickly replace the image of earlier part,
			resulting in a view that is not very different from video
			(though less smooth).
			And note that you wouldn't see any timestamp at bottom-right corner of the preview
			no matter you enable it or not;
			but if enabled,
			it will show on the result photo.
		</para>
		<para>
			If a photo is shot while you are streaming preview,
			you will see that the preview would stop moving for few seconds
			while the shot is being captured and saved,
			before it continues to move again.
			Note that what you see during preview freezes is,
			unfortunately,
			not necessarily what you get in your result photo;
			the actual shot takes place a bit (~0.7 sec) <emphasis>after</emphasis> the preview starts freezing.
		</para>
		<para>
			Only single connection to this service is allowed at a time;
			it you opened the URL from other browser window,
			it will stuck waiting for camera's response
			until you pressed browser's stop button on the first one.
			If any of connected devices switched the camera to video recording mode
			or timelapse video recording mode,
			this HTTP preview streaming service will be terminated;
			and you will see the preview stop moving.
			However,
			switching between photo shooting and timelapse photo shooting mode
			(or set the same mode again while already in that mode),
			will not cause the service to terminate.
		</para>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="shooting">
		<title>Shooting a Photo</title>
		<para>
			In photo shooting mode,
			to shoot a photo,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=1001]]></programlisting>
		&xmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>1001</Cmd>
<Status>]]><replaceable>STATUS</replaceable><![CDATA[</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			<varname>STATUS</varname> part of the response
			will be one of the following photo shoot command status values:
		</para>
		<table id="shootingstatus"><title>List of photo shooting command status values</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Command status value</entry><entry>Command status meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>A photo is shot and saved.</entry></row>
				<row><entry>-13</entry><entry>Shooting failed: the camera is not in photo shooting mode.</entry></row>
				<row><entry>-22</entry><entry>Shooting failed: there's no MicroSD card in the camera.</entry></row>
			</tbody>
		</tgroup></table>
		<?dbfo-need height="1.2in"?>
		<para>
			Important notes:
		</para>
		<itemizedlist>
			<listitem><para>
				If storage space left on MicroSD card is not enough for saving photo,
				the camera will not will not give HTTP response
				and will no longer respond to any commands.
				You would need to manually turn off WiFi access
				and turn it back on again if you wish to send more commands.
				See <xref linkend="photoremain"/> for how to check number of remaining photos the camera can take
				before the storage is full.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="timelapsestart">
		<title>Starting Timelapse Photo Shoot</title>
		<indexterm><primary>Burst Mode</primary></indexterm>
		<indexterm><primary>Continuous Shooting</primary></indexterm>
		<indexterm><primary>Timelapse Photography</primary></indexterm>
		<para>
			In timelapse photo shooting mode,
			to start timelapse photo shooting,
			&accessurlp;
			(same URL as normal photo shooting):
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=1001]]></programlisting>
		&xmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>1001</Cmd>
<Status>]]><replaceable>STATUS</replaceable><![CDATA[</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			<varname>STATUS</varname> part of the response
			will be one of the following photo shoot command status values:
		</para>
		<table id="timelapsestartstatus"><title>List of timelapse photo shooting start command status values</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Command status value</entry><entry>Command status meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Timelapse photo shooting is started.</entry></row>
				<row><entry>-13</entry><entry>Shooting start failed: the camera is not in timelapse photo shooting mode.</entry></row>
				<row><entry>-22</entry><entry>Shooting start failed: there's no MicroSD card in the camera.</entry></row>
			</tbody>
		</tgroup></table>
		<para>
			If the camera returned <varname>STATUS</varname> value <literal>0</literal> ,
			the first shot will be taken immediately.
			The HTTP and XML response is returned
			without waiting for first photo to be ready first.
		</para>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="timelapsestop">
		<title>Stopping Timelapse Photo Shoot</title>
		<indexterm><primary>Burst Mode</primary></indexterm>
		<indexterm><primary>Continuous Shooting</primary></indexterm>
		<indexterm><primary>Timelapse Photography</primary></indexterm>
		<para>
			In timelapse photo shooting mode,
			to stop timelapse photo shooting,
			&accessurlp;
			(same URL as normal photo shooting and timelapse photo shooting start):
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=1001]]></programlisting>
		&xmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>1001</Cmd>
<Status>]]><replaceable>STATUS</replaceable><![CDATA[</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			<varname>STATUS</varname> part of the response
			will be one of the following photo shoot command status values:
		</para>
		<table id="timelapsestopstatus"><title>List of timelapse photo shooting stop command status values</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Command status value</entry><entry>Command status meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Timelapse photo shooting is stopped.</entry></row>
				<row><entry>-13</entry><entry>The camera is not in timelapse photo shooting mode.</entry></row>
				<row><entry>-22</entry><entry>There's no MicroSD card in the camera.</entry></row>
			</tbody>
		</tgroup></table>
		<para>
			The HTTP and XML response is returned
			without waiting for last photo shot to be saved first
			(if it was already in process of shooting when the command is sent);
			it will be eventually saved when it's done.
		</para>
		<para>
			As this command is identical to the one used
			for starting timelapse photo shooting,
			issuing the command while there's no timelapse photo shooting in progress
			will start timelapse photo shooting.
		</para>
	</section>
</chapter>
<chapter id="cameraconf">
	<title>Accessing Camera Configuration</title>
	<indexterm><primary>Configuration</primary></indexterm>
	<indexterm><primary>HTTP</primary></indexterm>
	<indexterm><primary>Settings</primary></indexterm>
	<para>
		Camera settings could be obtained or edited via camera's HTTP service
		&tcp80;.
		These settings correspond to items in camera's Setup screen.
		Most of them are stored on camera's nonvolatile memory,
		and retained when the power is off or battery is removed.
		Few settings are not stored and only have effect until the power is turned off,
		then return to their default value on the next power up;
		these will be noted explicitly.
	</para>
	<para>
		While camera's behavior on configuration change
		in the middle of video recording and timelapse photo shooting
		are documented in each corresponding section,
		it is still advisable to avoid changing configuration relevant to the running camera operation,
		e.g. avoid changing video-related
		configuration while video is recording,
		and avoid changing photo-related configuration during timelapse photo shooting;
		to ensure portability on different firmware version
		in case the documented behavior changed.
		Notable exceptions are WiFi SSID and WiFi password
		which cannot be set while WiFi access is off.
	</para>
	<para>
		To check whether the camera is recording video or shooting timelapse photos,
		see <xref linkend="camerainfo"/> or <xref linkend="statusstream"/>.
	</para>
	<?dbfo-need height="2.5in"?>
	<section id="settingsread">
		<title>Obtaining Camera Settings</title>
		<para>
			Current camera settings could be obtained <emphasis>in bulk</emphasis>
			by &accessingurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3014]]></programlisting>
		&xmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>]]><replaceable>COMMAND_01</replaceable><![CDATA[</Cmd>
<Status>]]><replaceable>STATUS_01</replaceable><![CDATA[</Status>
<Cmd>]]><replaceable>COMMAND_02</replaceable><![CDATA[</Cmd>
<Status>]]><replaceable>STATUS_02</replaceable><![CDATA[</Status>
.
.
.
<Cmd>]]><replaceable>COMMAND_NN</replaceable><![CDATA[</Cmd>
<Status>]]><replaceable>STATUS_NN</replaceable><![CDATA[</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespallcr;
		</para>
		<para>
			Each <varname>COMMAND_NN</varname> is an configuration <emphasis role="strong">item number</emphasis>
			(e.g. <literal>2002</literal>),
			and <varname>STATUS_NN</varname> is its numeric <emphasis role="strong">setting value</emphasis>.
			Known configuration items and meanings of their setting values are listed below:
		</para>
		<table id="settingsreadlist"><title>List of returned camera setting items</title><tgroup cols="4">
			<colspec colname="itemnum" colwidth="0.5*"/>
			<colspec colname="itemmean"/>
			<colspec colname="valuenum" colwidth="0.5*"/>
			<colspec colname="valuemean"/>
			<thead>
				<row><entry>Item number</entry><entry>Item meaning</entry><entry>Setting value</entry><entry>Setting value meaning</entry></row>
			</thead>
			<tbody>
				<row>
					<entry morerows="7">1002</entry><entry morerows="7">Photo shooting resolution</entry>
					<entry>0</entry><entry>4032x3024 (12 megapixels, 4:3)</entry>
				</row>
				<row><entry>1</entry><entry>3648x2736 (10 megapixels, 4:3)</entry></row>
				<row><entry>2</entry><entry>3264x2448 (8 megapixels, 4:3)</entry></row>
				<row><entry>3</entry><entry>2592x1944 (5 megapixels, 4:3)</entry></row>
				<row><entry>4</entry><entry>2048x1536 (3 megapixels, 4:3)</entry></row>
				<row><entry>5</entry><entry>1920x1080 (2 megapixels, 16:9)</entry></row>
				<row><entry>6</entry><entry>640x480 (VGA, 4:3)</entry></row>
				<row><entry>7</entry><entry>1280x960 (1.3 megapixels, 16:9)</entry></row>
				<row>
					<entry>1005</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
					<entry>0</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
				</row>
				<row>
					<entry morerows="2">1006</entry><entry morerows="2">Photo sharpness</entry>
					<entry>0</entry><entry>Strong</entry>
				</row>
				<row><entry>1</entry><entry>Normal</entry></row>
				<row><entry>2</entry><entry>Smooth</entry></row>
				<row>
					<entry morerows="4">1007</entry><entry morerows="4">Photo white balance mode</entry>
					<entry>0</entry><entry>Automatic</entry>
				</row>
				<row><entry>1</entry><entry>Daylight</entry></row>
				<row><entry>2</entry><entry>Cloudy</entry></row>
				<row><entry>3</entry><entry>Tungsten</entry></row>
				<row><entry>4</entry><entry>Fluorescent</entry></row>
				<row>
					<entry morerows="2">1008</entry><entry morerows="2">Photo color mode</entry>
					<entry>0</entry><entry>Color</entry>
				</row>
				<row><entry>1</entry><entry>Black and white</entry></row>
				<row><entry>2</entry><entry>Sepia</entry></row>
				<row>
					<entry morerows="3">1009</entry><entry morerows="3">Camera's ISO value</entry>
					<entry>0</entry><entry>Automatic</entry>
				</row>
				<row><entry>1</entry><entry>100</entry></row>
				<row><entry>2</entry><entry>200</entry></row>
				<row><entry>3</entry><entry>400</entry></row>
				<row>
					<entry morerows="1">1011</entry><entry morerows="1">Anti-shaking mode</entry>
					<entry>0</entry><entry>Disabled</entry>
				</row>
				<row><entry>1</entry><entry>Enabled</entry></row>
				<row>
					<entry morerows="3">1012</entry><entry morerows="3">Timelapse photo shooting interval</entry>
					<entry>0</entry><entry>Shoot once every 3 seconds</entry>
				</row>
				<row><entry>1</entry><entry>Shoot once every 5 seconds</entry></row>
				<row><entry>2</entry><entry>Shoot once every 10 seconds</entry></row>
				<row><entry>3</entry><entry>Shoot once every 20 seconds</entry></row>
				<row>
					<entry morerows="4">2002</entry><entry morerows="4">Video recording resolution</entry>
					<entry>0</entry><entry>1920x1080 at 30 FPS</entry>
				</row>
				<row><entry>1</entry><entry>1280x720 at 60 FPS</entry></row>
				<row><entry>2</entry><entry>1280x720 at 30 FPS</entry></row>
				<row><entry>3</entry><entry>848x480 at 60 FPS</entry></row>
				<row><entry>4</entry><entry>640x480 at 60 FPS</entry></row>
				<row>
					<entry morerows="3">2003</entry><entry morerows="3">Loop recording mode</entry>
					<entry>0</entry><entry>Disabled</entry>
				</row>
				<row><entry>1</entry><entry>Enabled, 3 minute per chunk</entry></row>
				<row><entry>2</entry><entry>Enabled, 5 minute per chunk</entry></row>
				<row><entry>3</entry><entry>Enabled, 10 minute per chunk</entry></row>
				<row>
					<entry morerows="1">2004</entry><entry morerows="1">Wide dynamic range mode</entry>
					<entry>0</entry><entry>Disabled</entry>
				</row>
				<row><entry>1</entry><entry>Enabled</entry></row>
				<row>
					<entry morerows="12">2005</entry><entry morerows="12">Photo exposure number</entry>
					<entry>0</entry><entry>+2.0</entry>
				</row>
				<row><entry>1</entry><entry>+5/3</entry></row>
				<row><entry>2</entry><entry>+4/3</entry></row>
				<row><entry>3</entry><entry>+1.0</entry></row>
				<row><entry>4</entry><entry>+2/3</entry></row>
				<row><entry>5</entry><entry>+1/3</entry></row>
				<row><entry>6</entry><entry>0.0</entry></row>
				<row><entry>7</entry><entry>-1/3</entry></row>
				<row><entry>8</entry><entry>-2/3</entry></row>
				<row><entry>9</entry><entry>-1.0</entry></row>
				<row><entry>10</entry><entry>-4/3</entry></row>
				<row><entry>11</entry><entry>-5/3</entry></row>
				<row><entry>12</entry><entry>-2.0</entry></row>
				<row>
					<entry morerows="1">2006</entry><entry morerows="1">Motion-triggered mode</entry>
					<entry>0</entry><entry>Disabled</entry>
				</row>
				<row><entry>1</entry><entry>Enabled</entry></row>
				<row>
					<entry morerows="1">2007</entry><entry morerows="1">Audio recording mode</entry>
					<entry>0</entry><entry>Disabled</entry>
				</row>
				<row><entry>1</entry><entry>Enabled</entry></row>
				<row>
					<entry morerows="1">2008</entry><entry morerows="1">Timestamp overlay mode</entry>
					<entry>0</entry><entry>Disabled</entry>
				</row>
				<row><entry>1</entry><entry>Enabled</entry></row>
				<row>
					<entry>2010</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
					<entry>3</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
				</row>
				<row>
					<entry morerows="5">2019</entry><entry morerows="5">Timelapse video capture rate</entry>
					<entry>0</entry><entry>1 second/frame</entry>
				</row>
				<row><entry>1</entry><entry>2 second/frame</entry></row>
				<row><entry>2</entry><entry>5 second/frame</entry></row>
				<row><entry>3</entry><entry>10 second/frame</entry></row>
				<row><entry>4</entry><entry>30 second/frame</entry></row>
				<row><entry>5</entry><entry>60 second/frame</entry></row>
				<row>
					<entry>3003</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
					<entry>0</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
				</row>
				<row>
					<entry>3004</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
					<entry>0</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
				</row>
				<row>
					<entry morerows="3">3007</entry><entry morerows="3">Automatic power off time</entry>
					<entry>0</entry><entry>Do not automatically turn off on inactivity.</entry>
				</row>
				<row><entry>1</entry><entry>Turn off after 3-minute inactivity.</entry></row>
				<row><entry>2</entry><entry>Turn off after 5-minute inactivity.</entry></row>
				<row><entry>3</entry><entry>Turn off after 10-minute inactivity.</entry></row>
				<row>
					<entry morerows="12">3008</entry><entry morerows="12">Interface language</entry>
					<entry>0</entry><entry>English</entry>
				</row>
				<row><entry>1</entry><entry>French</entry></row>
				<row><entry>2</entry><entry>Spanish</entry></row>
				<row><entry>3</entry><entry>Polish</entry></row>
				<row><entry>4</entry><entry>German</entry></row>
				<row><entry>5</entry><entry>Italian</entry></row>
				<row><entry>6</entry><entry>Simplified Chinese</entry></row>
				<row><entry>7</entry><entry>Traditional Chinese</entry></row>
				<row><entry>8</entry><entry>Russian</entry></row>
				<row><entry>9</entry><entry>Japanese</entry></row>
				<row><entry>10</entry><entry>Korean</entry></row>
				<row><entry>11</entry><entry>Hebrew</entry></row>
				<row><entry>12</entry><entry>Portuguese</entry></row>
				<row>
					<entry>3010</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
					<entry>0</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
				</row>
				<row>
					<entry>3011</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
					<entry>0</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
				</row>
				<row>
					<entry morerows="1">3025</entry><entry morerows="1">Power line frequency</entry>
					<entry>0</entry><entry>50 Hz</entry>
				</row>
				<row><entry>1</entry><entry>60 Hz</entry></row>
				<row>
					<entry>3026</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
					<entry>0</entry><entry align="center"><emphasis>(Unknown)</emphasis></entry>
				</row>
			</tbody>
		</tgroup></table>
		<para>
			Setting items returned from the camera seems to be listed
			by following settings item number order:
			2002,
			2003,
			2004,
			1012,
			2006,
			2007,
			2008,
			2010,
			2019,
			1002,
			1005,
			1006,
			1007,
			1008,
			1009,
			2005,
			1011,
			3025,
			3026,
			3011,
			3010,
			3007,
			3003,
			3004,
			then 3008.
			It's best not to dwell on this though.
		</para>
		<para>
			Despite being listed on the table,
			following settings are not editable via WiFi access:
		</para>
		<itemizedlist>
			<listitem><simpara>Photo sharpness</simpara></listitem>
			<listitem><simpara>Photo color mode</simpara></listitem>
			<listitem><simpara>Camera ISO value</simpara></listitem>
			<listitem><simpara>Anti-shaking mode</simpara></listitem>
		</itemizedlist>
		<para>
			This is an example settings data when the camera is using all default settings:
		</para>
		<programlisting><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>2002</Cmd>
<Status>0</Status>
<Cmd>2003</Cmd>
<Status>1</Status>
<Cmd>2004</Cmd>
<Status>0</Status>
<Cmd>1012</Cmd>
<Status>0</Status>
<Cmd>2006</Cmd>
<Status>0</Status>
<Cmd>2007</Cmd>
<Status>1</Status>
<Cmd>2008</Cmd>
<Status>1</Status>
<Cmd>2010</Cmd>
<Status>3</Status>
<Cmd>2019</Cmd>
<Status>0</Status>
<Cmd>1002</Cmd>
<Status>0</Status>
<Cmd>1005</Cmd>
<Status>0</Status>
<Cmd>1006</Cmd>
<Status>1</Status>
<Cmd>1007</Cmd>
<Status>0</Status>
<Cmd>1008</Cmd>
<Status>0</Status>
<Cmd>1009</Cmd>
<Status>0</Status>
<Cmd>2005</Cmd>
<Status>6</Status>
<Cmd>1011</Cmd>
<Status>0</Status>
<Cmd>3025</Cmd>
<Status>1</Status>
<Cmd>3026</Cmd>
<Status>0</Status>
<Cmd>3011</Cmd>
<Status>0</Status>
<Cmd>3010</Cmd>
<Status>0</Status>
<Cmd>3007</Cmd>
<Status>0</Status>
<Cmd>3003</Cmd>
<Status>0</Status>
<Cmd>3004</Cmd>
<Status>0</Status>
<Cmd>3008</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="videoresolution">
		<title>Setting Video Recording Resolution</title>
		<indexterm><primary>Resolution</primary></indexterm>
		<para>
			To set video recording resolution (and frame rate),
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=2002&par=]]><replaceable>RESOLUTION</replaceable></programlisting>
		<para>
			Substitute <varname>RESOLUTION</varname> with one of the resolution settings value:
		</para>
		<table id="videoresolutionlist"><title>List of video recording resolution setting values</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Setting value</entry><entry>Setting value meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>1920x1080 at 30 FPS</entry></row>
				<row><entry>1</entry><entry>1280x720 at 60 FPS</entry></row>
				<row><entry>2</entry><entry>1280x720 at 30 FPS</entry></row>
				<row><entry>3</entry><entry>848x480 at 60 FPS</entry></row>
				<row><entry>4</entry><entry>640x480 at 60 FPS</entry></row>
			</tbody>
		</tgroup></table>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>2002</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Important notes:
		</para>
		<itemizedlist>
			<listitem><para>
				For modes denoted with 60 FPS frame rate,
				<emphasis role="strong">they are actually captured at 30 FPS
				and doubled the frame rate using software</emphasis>.
			</para></listitem>
			<listitem>
				<para>
					This mode setting is supposed to apply to
					both video recording and timelapse video recording;
					but from experiments,
					it affects only normal video recording.
					Timelapse video recording <emphasis role="strong">seems to be hard-coded at 1920x1080 with 30 FPS playback rate</emphasis>.
				</para>
				<para>
					In case the resolution is set to any other value than 1920x1080 30 FPS,
					timestamp would not overlaid on the timelapse video correctly:
					timestamp seems to be generated according to the configured resolution,
					rather than the actual recording resolution.
					So you would see timestamp text being smaller than usual,
					and placed at the middle-right rather than bottom-right of the video.
					It is recommended that you either
					set the recording resolution to 1920x1080 30 FPS
					or disable timestamp overlay
					when you are doing timelapse video recording.
				</para>
			</listitem>
		</itemizedlist>
		<?dbfo-need height="1.2in"?>
		<para>
			Extra trivia about the <varname>RESOLUTION</varname> value:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					If the <varname>RESOLUTION</varname> number specified is out of a valid range,
					<emphasis>HTTP and XML response will still be the same</emphasis>,
					but after the response,
					weird things would start to happen:
				</para>
				<itemizedlist>
					<listitem>
						<para>If <varname>RESOLUTION</varname> is <literal>-1</literal>:</para>
						<itemizedlist>
							<listitem><para>
								Resolution icon on camera's screen will be replaced by an empty battery icon (weird).
							</para></listitem>
							<listitem><para>
								If you press record button,
								<emphasis role="strong">the video will be recorded in 320x240 resolution at 30 FPS</emphasis>
								but uses 16:9 aspect ratio;
								and timestamp overlay in the recorded video will be in alternative square-looking font.
							</para></listitem>
							<listitem><para>
								Remaining recording time will reflect a remaining recording time
								in the 320x240 resolution at 30 FPS.
							</para></listitem>
							<listitem><para>
								If you try to obtain camera settings right now,
								video recording resolution setting (number <literal>2002</literal>)
								will have a value <literal>-1</literal> too.
							</para></listitem>
							<listitem><para>
								This special resolution does not survive reboot;
								when the camera is restarted,
								the resolution will be reset to 1920x1080 at 30 FPS.
							</para></listitem>
						</itemizedlist>
					</listitem>
					<listitem><para>
						If <varname>RESOLUTION</varname> is negative <literal>-2</literal>, <literal>-3</literal> and beyond;
						or positive <literal>5</literal>, <literal>6</literal> and beyond:
						<emphasis role="strong">camera's firmware will crash</emphasis>;
						camera screen will freeze,
						entire WiFi access point will stop,
						and all buttons will stop working
						except the power button which can still be used for powering off;
						once the camera is powered on again,
						video recording resolution will be at the last valid resolution set.
					</para></listitem>
				</itemizedlist>
			</listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="looprecording">
		<title>Setting Loop Recording Mode</title>
		<para>
			Loop recording function
			(dubbed <quote>CyclicRecord</quote> in camera's Setup screen),
			when enabled,
			will make the camera record video in a <emphasis>series of small chunks</emphasis>,
			allowing the camera to continue recording when the MicroSD card is full,
			by removing the oldest recording chunk;
			so you can leave the recording run indefinitely
			and always have the latest video on hand.
			This is an essential feature in dashboard camera and CCTV,
			which you want to leave the camera running continuously,
			but only interested in the most recent part of video
			where the incident happened.
		</para>
		<para>
			To set camera's loop recording mode,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=2003&par=]]><replaceable>LOOPMODE</replaceable></programlisting>
		<para>
			Substitute <varname>LOOPMODE</varname> with one of the following loop mode numbers:
		</para>
		<table id="looprecordingmodes"><title>List of loop recording mode numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Loop mode number</entry><entry>Loop mode number meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Disable loop recording</entry></row>
				<row><entry>1</entry><entry>Enable loop recording, 3 minute per chunk</entry></row>
				<row><entry>2</entry><entry>Enable loop recording, 5 minute per chunk</entry></row>
				<row><entry>3</entry><entry>Enable loop recording, 10 minute per chunk</entry></row>
			</tbody>
		</tgroup></table>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>2003</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Notes:
		</para>
		<itemizedlist>
			<listitem><para>
				If you change this setting while a video recording is in progress,
				<emphasis>HTTP and XML response will still be the same</emphasis>,
				but the camera will ignore your new setting
				(the old setting is retained).
			</para></listitem>
			<listitem><para>
				Once you successfully set the new loop recording mode
				(and you're in video recording mode),
				you'll see that camera's loop recording indicator icon changes immediately
				to show the new loop recording interval.
			</para></listitem>
		</itemizedlist>
		<?dbfo-need height="1.2in"?>
		<para>
			Extra trivia on loop recording (when enabled):
		</para>
		<itemizedlist>
			<listitem><para>
				During video recording,
				the elapsed time displayed on camera screen
				will be the time elapsed in current video recording chunk;
				it will reset to zero when the camera starts recording the new chunk.
			</para></listitem>
			<listitem><para>
				During video recording,
				you'll see that recording will not switch to new chunk
				at the exact time it reached the configured interval,
				but will delay for few seconds.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="wdr">
		<title>Setting Wide Dynamic Range Mode</title>
		<para>
			To disable or enable camera's wide dynamic range capture option,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=2004&par=]]><replaceable>WDRMODE</replaceable></programlisting>
		<para>
			Substitute <varname>WDRMODE</varname> with one of the following WDR mode numbers:
		</para>
		<table id="wdrmodes"><title>List of wide dynamic range mode numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>WDR mode number</entry><entry>WDR mode number meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Disable wide dynamic range capture</entry></row>
				<row><entry>1</entry><entry>Enable wide dynamic range capture</entry></row>
			</tbody>
		</tgroup></table>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>2004</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Notes:
		</para>
		<itemizedlist>
			<listitem><para>
				This setting affects only video recording,
				not photo shooting.
			</para></listitem>
			<listitem><para>
				If you change this setting while a video recording is in progress,
				the camera will ignore your new setting
				(the old setting is retained).
			</para></listitem>
			<listitem><para>
 				In all cases,
 				HTTP and XML response will be the same.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="motiontrigger">
		<title>Setting Motion-Triggered Mode</title>
		<para>
			The camera can be configured to start video recording when it saw a movement.
			When enabled,
			the camera will start video recording automatically
			(with ~1 sec delay)
			when a large movement is seen,
			and will keep recording as long as the movement continues.
			If the movement ceased,
			camera will keep recording for the next 8 seconds
			(or around 40 seconds in timelapse video recording mode),
			then stop if there's no more movement.
			This feature doesn't work in photo shooting mode,
			timelapse photo shooting mode,
			or <emphasis role="strong">while WiFi access is enabled</emphasis>.
		</para>
		<para>
			To enable or disable this motion-triggered mode,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=2006&par=]]><replaceable>MOTIONSENSEMODE</replaceable></programlisting>
		<para>
			Substitute <varname>MOTIONSENSEMODE</varname>
			with one of the following motion trigger mode number:
		</para>
		<table id="motiontriggermodes"><title>List of motion trigger mode numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Motion trigger mode number</entry><entry>Motion trigger mode</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Disabled</entry></row>
				<row><entry>1</entry><entry>Enabled</entry></row>
			</tbody>
		</tgroup></table>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>2006</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			In case you enabled it,
			the setting will take effect as soon as WiFi access is turned off.
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Note:
		</para>
		<itemizedlist>
			<listitem><para>
				SJCAM ZONE does not offer this setting option.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="audiorec">
		<title>Setting Audio Recording Mode</title>
		<para>
			To disable or enable audio in camera's video recording,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=2007&par=]]><replaceable>AUDIOMODE</replaceable></programlisting>
		<para>
			Substitute <varname>AUDIOMODE</varname> with one of the following audio mode numbers:
		</para>
		<table id="audiorecmodes"><title>List of audio mode numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Audio mode number</entry><entry>Audio mode number meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Disable audio</entry></row>
				<row><entry>1</entry><entry>Enable audio</entry></row>
			</tbody>
		</tgroup></table>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>2007</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Notes:
		</para>
		<itemizedlist>
			<listitem><para>
				Even when the audio recording is disabled,
				recorded video files will still have an (silent) audio track in them,
				which consumes space.
				The exception is timelapse video recording,
				which is always recorded without audio track.
			</para></listitem>
			<listitem><para>
				If you change this setting while a video recording is in progress,
				no matter that it's normal video recording or timelapse video recording,
				the camera <emphasis role="strong">will ignore your new setting</emphasis>
				(the old setting is retained).
			</para></listitem>
			<listitem><para>
				In all cases,
				<emphasis>HTTP and XML response will be the same</emphasis>.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="timestamp">
		<title>Setting Timestamp Overlay Mode</title>
		<para>
			To disable or enable timestamp (date-time) overlay in video recording
			and photo shooting,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=2008&par=]]><replaceable>TIMESTAMPMODE</replaceable></programlisting>
		<para>
			Substitute <varname>TIMESTAMPMODE</varname> with one of the following timestamp mode numbers:
		</para>
		<table id="timestampmodes"><title>List of timestamp mode numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Timestamp mode number</entry><entry>Timestamp mode number meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Disable timestamp overlay</entry></row>
				<row><entry>1</entry><entry>Enable timestamp overlay</entry></row>
			</tbody>
		</tgroup></table>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>2008</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Important notes:
		</para>
		<itemizedlist>
			<listitem><para>
				In video recording mode,
				this setting would not take effect until camera's RTSP service is restarted
				(whether it's by video recording start
				or camera mode switch to non-video mode and back).
			</para></listitem>
			<listitem><para>
				If you change this setting while a video recording is in progress,
				<emphasis>HTTP and XML response will still be the same</emphasis>,
				but the camera will ignore your new setting
				(the old setting is retained).
			</para></listitem>
		</itemizedlist>
		<?dbfo-need height="1.2in"?>
		<para>
			Extra trivia on timestamp overlay (when enabled):
		</para>
		<itemizedlist>
			<listitem><para>
				In recorded videos,
				timestamp text will be white-colored
				and located at the bottom-left corner of each video.
				In photo shots,
				timestamp text will be red-colored
				and located at the bottom-right corner of each photo
				(exception are photos shot while camera's <quote>Color</quote> setting was <quote>Sepia</quote>;
				they would carry white-colored timestamp text instead).
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="timelapsevideo">
		<title>Setting Timelapse Video Capture Rate</title>
		<indexterm><primary>Timelapse Video</primary></indexterm>
		<para>
			Camera's timelapse video capture rate setting could be edited via WiFi access.
			But unlike the corresponding item in camera's Setup screen,
			it does not enable or disable timelapse video capture by itself;
			you would need to use camera mode command to do that first
			(see <xref linkend="modeswitch"/>).
		</para>
		<para>
			To change camera's timelapse video capture rate,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=2019&par=]]><replaceable>TIMELAPSEVIDEOERATE</replaceable></programlisting>
		<para>
			Substitute <varname>TIMELAPSEVIDEORATE</varname>
			with one of the following timelapse video capture rate number:
		</para>
		<table id="timelapsevideorates"><title>List of timelapse video capture rate numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Capture rate number</entry><entry>Capture rate meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>1 second/frame</entry></row>
				<row><entry>1</entry><entry>2 second/frame</entry></row>
				<row><entry>2</entry><entry>5 second/frame</entry></row>
				<row><entry>3</entry><entry>10 second/frame</entry></row>
				<row><entry>4</entry><entry>30 second/frame</entry></row>
				<row><entry>5</entry><entry>60 second/frame</entry></row>
			</tbody>
		</tgroup></table>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>2019</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="photoresolution">
		<title>Setting Photo Shooting Resolution</title>
		<indexterm><primary>Resolution</primary></indexterm>
		<para>
			To set photo shooting resolution,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=1002&par=]]><replaceable>PHOTORES</replaceable></programlisting>
		<para>
			Substitute <varname>PHOTORES</varname> with one of the following photo resolution numbers:
		</para>
		<table id="photoresolutionlist"><title>List of photo resolution numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Photo resolution number</entry><entry>Photo resolution meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>4032x3024 (12 megapixels, 4:3)</entry></row>
				<row><entry>1</entry><entry>3648x2736 (10 megapixels, 4:3)</entry></row>
				<row><entry>2</entry><entry>3264x2448 (8 megapixels, 4:3)</entry></row>
				<row><entry>3</entry><entry>2592x1944 (5 megapixels, 4:3)</entry></row>
				<row><entry>4</entry><entry>2048x1536 (3 megapixels, 4:3)</entry></row>
				<row><entry>5</entry><entry>1920x1080 (2 megapixels, 16:9)</entry></row>
				<row><entry>6</entry><entry>640x480 (VGA, 4:3)</entry></row>
				<row><entry>7</entry><entry>1280x960 (1.3 megapixels, 16:9)</entry></row>
			</tbody>
		</tgroup></table>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>1002</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<para>
			If the camera is currently in photo shooting mode,
			you'll see that resolution display at top-left corner of the screen
			is immediately updated.
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Note:
		</para>
		<itemizedlist>
			<listitem><para>
				If you changed photo resolution aspect ratio while streaming photo preview,
				you would see that the new aspect ratio takes affect immediately.
			</para></listitem>
		</itemizedlist>
		<?dbfo-need height="1.2in"?>
		<para>
			Extra trivia about the <varname>PHOTORES</varname> number:
		</para>
		<itemizedlist>
			<listitem><para>
				If you try to set resolution number to <literal>8</literal>,
				the camera will ignore your new setting
				(the old setting is retained).
			</para></listitem>
			<listitem><para>
				If you try to set resolution number to other out-of-range values
				(e.g. <literal>9</literal>,
				or <literal>-2</literal>),
				resolution display on camera screen will show value <literal>0</literal>,
				and when you try to shoot a photo or go to camera's <emphasis>Setup &gt; Image Size</emphasis>,
				<emphasis role="strong">camera firmware will crash</emphasis>;
				screen and buttons freeze,
				you can only use power button to turn it off.
				When the camera is turned on again,
				the resolution will be set to 4032x3024 (12 megapixels, 4:3).
				If you just turned the camera off
				(skipped photo shooting or image size setup screen viewing),
				the setting will just reset to 4032x3024 (12 megapixels, 4:3) too.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="whitebalance">
		<title>Setting White Balance Mode</title>
		<indexterm><primary>White Balance</primary></indexterm>
		<para>
			To set white balance mode for photo shooting,
			timelapse photo shooting,
			video recording,
			and timelapse video recording,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=1007&par=]]><replaceable>BALANCEMODE</replaceable></programlisting>
		<para>
			Substitute <varname>BALANCEMODE</varname> with one of the following white balance mode numbers:
		</para>
		<table id="whitebalancemodes"><title>List of white balance mode numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>White balance mode number</entry><entry>White balance mode meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Automatic</entry></row>
				<row><entry>1</entry><entry>Daylight</entry></row>
				<row><entry>2</entry><entry>Cloudy</entry></row>
				<row><entry>3</entry><entry>Tungsten</entry></row>
				<row><entry>4</entry><entry>Fluorescent</entry></row>
			</tbody>
		</tgroup></table>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>1007</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Important notes:
		</para>
		<itemizedlist>
			<listitem><para>
				If you try to set a new white balance mode
				while the camera is in photo shooting mode or timelapse photo shooting mode,
				the camera will ignore your new setting
				(but HTTP and XML response are still the same).
				This is an odd behavior.
			</para></listitem>
			<listitem><para>
				If you try to set a new white balance mode
				while there is a video recording (normal or timelapse) in progress,
				the camera will ignore your new setting too
				(and HTTP and XML response are still the same).
			</para></listitem>
		</itemizedlist>
		<?dbfo-need height="1.2in"?>
		<para>
			Extra trivia on white balance setting:
		</para>
		<itemizedlist>
			<listitem><para>
				SJCAM ZONE lists this setting in Photo category,
				but as already described,
				this setting affect both video and photo.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="exposure">
		<title>Setting Exposure Value</title>
		<indexterm><primary>Exposure</primary></indexterm>
		<indexterm><primary>EV</primary></indexterm>
		<para>
			To set exposure value for photo shooting,
			timelapse photo shooting,
			video recording,
			and timelapse video recording,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=2005&par=]]><replaceable>EXPOSURENUM</replaceable></programlisting>
		<para>
			Substitute <varname>EXPOSURENUM</varname> with one of the following exposure number:
		</para>
		<table id="exposuremodes"><title>List of exposure numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Exposure number</entry><entry>Exposure value</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>+2.0</entry></row>
				<row><entry>1</entry><entry>+5/3</entry></row>
				<row><entry>2</entry><entry>+4/3</entry></row>
				<row><entry>3</entry><entry>+1.0</entry></row>
				<row><entry>4</entry><entry>+2/3</entry></row>
				<row><entry>5</entry><entry>+1/3</entry></row>
				<row><entry>6</entry><entry>0.0</entry></row>
				<row><entry>7</entry><entry>-1/3</entry></row>
				<row><entry>8</entry><entry>-2/3</entry></row>
				<row><entry>9</entry><entry>-1.0</entry></row>
				<row><entry>10</entry><entry>-4/3</entry></row>
				<row><entry>11</entry><entry>-5/3</entry></row>
				<row><entry>12</entry><entry>-2.0</entry></row>
			</tbody>
		</tgroup></table>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>2005</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Important notes:
		</para>
		<itemizedlist>
			<listitem><para>
				If you try to set a new exposure value
				while the camera is in photo shooting mode or timelapse photo shooting mode,
				the camera will ignore your new setting
				(but HTTP and XML response is still the same).
				This is an odd behavior.
			</para></listitem>
			<listitem><para>
				If you try to set a new exposure value
				while there is a video recording (normal or timelapse) in progress,
				the camera will also ignore your new setting
				(but HTTP and XML response is still the same).
			</para></listitem>
		</itemizedlist>
		<para>
			Extra trivia on exposure setting:
		</para>
		<itemizedlist>
			<listitem><para>
				SJCAM ZONE lists this setting in Photo category,
				but as already described,
				this setting affect both video and photo.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="timelapsephoto">
		<title>Setting Timelapse Photo Shooting Interval</title>
		<indexterm><primary>Burst Mode</primary></indexterm>
		<indexterm><primary>Continuous Shooting</primary></indexterm>
		<indexterm><primary>Timelapse Photography</primary></indexterm>
		<para>
			Camera's timelapse photo shooting interval could be set via WiFi access.
			But unlike the corresponding item in camera's Setup screen,
			it does not enable or disable timelapse photo shooting by itself;
			you would need to use camera mode command to do that first
			(see <xref linkend="modeswitch"/>).
		</para>
		<para>
			To set shooting interval in timelapse photo shooting mode,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=1012&par=]]><replaceable>SHOTINTERVAL</replaceable></programlisting>
		<para>
			Substitute <varname>SHOTINTERVAL</varname>
			with one of the following photo shooting interval numbers:
		</para>
		<table id="timelapsephotointervals"><title>List of photo shooting interval numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Photo shooting interval number</entry><entry>Photo shooting interval meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Shoot once every 3 seconds</entry></row>
				<row><entry>1</entry><entry>Shoot once every 5 seconds</entry></row>
				<row><entry>2</entry><entry>Shoot once every 10 seconds</entry></row>
				<row><entry>3</entry><entry>Shoot once every 20 seconds</entry></row>
			</tbody>
		</tgroup></table>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>1012</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<?dbfo-need height="1.2in"?>
		<para>
			Important notes:
		</para>
		<itemizedlist>
			<listitem><para>
				You only can set this setting
				while the camera is in timelapse photo shooting mode.
				If you try to set it while on other mode,
				the camera will ignore your new setting;
				<emphasis>but HTTP and XML response will still be the same</emphasis>.
			</para></listitem>
			<listitem><para>
				You can change this setting
				while timelapse photo shooting is in progress;
				timelapse indicator icon on camera's screen would immediately change,
				but the newly-set interval time will actually take effect
				on the next timelapse shooting
				(<emphasis>not the next shot</emphasis> of current shooting).
			</para></listitem>
			<listitem><para>
				This setting does not survive reboot
				(it will reset to <quote>Shoot once every 3 seconds</quote>
				when the camera is turned back on).
				On the other hand,
				changing camera to other mode like video,
				timelapse video,
				or normal photo shooting will not reset it.
			</para></listitem>
		</itemizedlist>
		<?dbfo-need height="1.2in"?>
		<para>
			Extra trivia on timelapse photo shooting interval:
		</para>
		<itemizedlist>
			<listitem><para>
				Setting <varname>SHOTINTERVAL</varname> to a positive value out of valid range,
				e.g. <literal>4</literal>,
				<literal>5</literal>,
				or <literal>6</literal>
				while you're on timelapse photo shooting mode
				will <emphasis role="strong">cause camera firmware to crash on the spot</emphasis>
				(no HTTP response,
				screen and buttons freeze,
				you can only use power button to turn it off).
				When you turn the camera on again,
				this setting will reset to <quote>Shoot once every 3 seconds</quote>.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="powerfreq">
		<title>Setting Power Line Frequency</title>
		<indexterm><primary>Frequency</primary></indexterm>
		<indexterm><primary>Power Line</primary></indexterm>
		<para>
			To set power line (light source) frequency information
			used for reducing flicker in video recording,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3025&par=]]><replaceable>FREQNUM</replaceable></programlisting>
		<para>
			Substitute <varname>FREQNUM</varname> with one of the following power line frequency number:
		</para>
		<table id="powerfrequencynum"><title>List of power line frequency numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Power line frequency number</entry><entry>Power line frequency</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>50 Hz</entry></row>
				<row><entry>1</entry><entry>60 Hz</entry></row>
			</tbody>
		</tgroup></table>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3025</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Note:
		</para>
		<itemizedlist>
			<listitem><para>
				Once the new setting is set,
				it will be effective after ~1 sec delay
				even while a video recording is in progress.
				You can see the difference on camera screen,
				live video feed,
				and in the recorded video too.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="autooff">
		<title>Setting Automatic Power Off Time</title>
		<indexterm><primary>Off</primary></indexterm>
		<indexterm><primary>Power</primary></indexterm>
		<indexterm><primary>Shutdown</primary></indexterm>
		<para>
			To set camera's automatic power off time,
			or turn off the camera,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3007&par=]]><replaceable>PWROFFMODE</replaceable></programlisting>
		<para>
			Substitute <varname>PWROFFMODE</varname>
			with one of the following automatic power off mode numbers:
		</para>
		<table id="autooffmodes"><title>List of automatic power off mode numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Automatic power off mode number</entry><entry>Automatic power off mode meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Do not automatically turn off on inactivity.</entry></row>
				<row><entry>1</entry><entry>Turn off after 3-minute inactivity.</entry></row>
				<row><entry>2</entry><entry>Turn off after 5-minute inactivity.</entry></row>
				<row><entry>3</entry><entry>Turn off after 10-minute inactivity.</entry></row>
				<row><entry>4</entry><entry>Turn off <emphasis role="strong">now</emphasis>.</entry></row>
			</tbody>
		</tgroup></table>
		<para>
			Automatic power off mode number <literal>4</literal>
			is a special value to signal immediate power off;
			it is not saved (original setting is retained).
			Also,
			if you try to read camera settings (using <xref linkend="settingsread"/>)
			shortly after the power off command was issued,
			you will get the original setting value.
		</para>
		<para>
			Once the command is acknowledged,
			&partxmlresp;
		</para>
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3007</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			If automatic power off mode number specified as <literal>4</literal>:
			after responding,
			the camera will turn off
			(and bring WiFi access point down with it).
		</para>
		<para>
			Note that leaving WiFi access enabled
			with at least one device associated to the access point
			<emphasis>does count as activity</emphasis>,
			even the device does issue any data or streaming request to the camera.
			(Leaving WiFi access enabled without association does not count though)
		</para>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="ssid">
		<title>Setting WiFi SSID</title>
		<indexterm><primary>WiFi</primary></indexterm>
		<indexterm><primary>WLAN</primary></indexterm>
		<indexterm><primary>Wireless LAN</primary></indexterm>
		<indexterm><primary>SSID</primary></indexterm>
		<para>
			To set camera's WiFi access point SSID,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3003&str=]]><replaceable>WIFISSID</replaceable></programlisting>
		<para>
			Substitute <varname>WIFISSID</varname> with the desired WiFi SSID name,
			which can be 1 to 27 characters long.
			Allowed characters are alphanumeric (A-Z, a-z, 0-9).
		</para>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3003</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Important notes:
		</para>
		<itemizedlist>
			<listitem><para>
				This setting is write-only.
				SJCAM ZONE cheats by reading the setting from phone's own WiFi configuration,
				not from the camera;
				and it will show an incorrect value
				if any connected device in the same WiFi access session sets a new camera SSID.
			</para></listitem>
			<listitem><para>
				This setting will take effect the next time WiFi access is enabled;
				current WiFi access session will continue to use the original SSID.
			</para></listitem>
			<listitem><para>
				You can actually set SSID with non-alphanumeric
				or even non-English characters via percent encoding
				(provided that you encode them properly using UTF-8,
				and UTF-8-encoded length must not exceed 27),
				but it is not reliable;
				your mileage may varies.
				In any case,
				<emphasis>HTTP and XML response will be the same</emphasis>.
			</para></listitem>
		</itemizedlist>
		<para>
			Extra trivia about WiFi SSID setting:
		</para>
		<itemizedlist>
			<listitem><para>
				If you try to set SSID longer than 27 characters
				(but not longer than 71 characters),
				<emphasis>HTTP and XML response will still be the same</emphasis>,
				but when you turn off WiFi access and turn it on again,
				<emphasis role="strong">camera firmware will crash</emphasis>
				(screen and buttons freeze,
				you can only use power button to turn it off);
				and when the camera is turned on again,
				it will retain the old SSID setting.
				But if you just powered if off immediately after setting it
				(skipped re-enabling WiFi access),
				the new setting will also be saved,
				and camera firmware will crash every time you enable WiFi access.
				The persistent crash can be fixed
				by going to camera's <emphasis>Setup &gt; WIFI SSID</emphasis>
				and set a new (shorter) SSID
				before starting WiFi access again.
			</para></listitem>
			<listitem><para>
				If you try to set SSID longer than 71 characters,
				<emphasis role="strong">camera firmware will crash on the spot</emphasis>
				(no HTTP response,
				screen and buttons freeze,
				you can only use power button to turn it off).
				When you turn the camera on again,
				it will retain the old SSID setting.
			</para></listitem>
			<listitem><para>
				If you try to set SSID to empty value,
				<emphasis>HTTP and XML response will still be the same</emphasis>,
				but the camera will retain the old SSID name setting.
				It's best not to count on this behavior though.
			</para></listitem>
			<listitem><para>
				If you set a long SSID,
				camera's WiFi SSID/password display
				(the one that pops up when WiFi access is enabled)
				might not show your SSID properly,
				but the access point will still work.
			</para></listitem>
			<listitem><para>
				Camera's default WiFi SSID name is <quote>SJ4000WIFI</quote>
				followed by 12 digits of some hexadecimal number (in lowercase form).
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="password">
		<title>Setting WiFi Password</title>
		<indexterm><primary>WiFi</primary></indexterm>
		<indexterm><primary>WLAN</primary></indexterm>
		<indexterm><primary>Wireless LAN</primary></indexterm>
		<indexterm><primary>Password</primary></indexterm>
		<indexterm><primary>WPA</primary></indexterm>
		<para>
			To set WPA2-PSK passphrase (password) of camera's WiFi access point,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3004&str=]]><replaceable>WIFIPASSPHRASE</replaceable></programlisting>
		<para>
			Substitute <varname>WIFIPASSPHRASE</varname> with the desired WiFi password.
		</para>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3004</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Important notes:
		</para>
		<itemizedlist>
			<listitem><para>
				This setting is write-only.
			</para></listitem>
			<listitem><para>
				This setting will take effect the next time WiFi access is enabled;
				current WiFi access session will continue to use the original password.
			</para></listitem>
			<listitem><para>
				If you try to set password that is shorter than 8 characters,
				the camera <emphasis role="strong">will ignore this new password</emphasis>
				(and use the old one instead);
				but <emphasis>HTTP and XML response will still be the same</emphasis>.
			</para></listitem>
		</itemizedlist>
		<?dbfo-need height="1.2in"?>
		<para>
			Extra trivia about WiFi password setting:
		</para>
		<itemizedlist>
			<listitem><para>
				Camera's default WiFi password is <quote>12345678</quote>.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="datetime">
		<title>Setting Date and Time</title>
		<indexterm><primary>Clock</primary></indexterm>
		<para>
			Date and time configuration is done using camera's HTTP service
			&tcp80;.
			SJCAM ZONE application will try to set your camera's date/time
			at the application start,
			before you can even select <quote>CONNECT YOUR CAMERA</quote>;
			it will set date first,
			followed by time,
			using current date/time of your
			Android device in <emphasis role="strong">local time zone</emphasis>.
		</para>
		<para>
			However,
			when you write your application,
			the order between date and time command is irrelevant;
			you can set only date,
			only time,
			or time followed by date just fine.
			But take care when the time is few seconds before midnight,
			as camera's clock can cause race condition with your date configuration command
			and result in wrong date.
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Extra trivia about camera's date and time:
		</para>
		<itemizedlist>
			<listitem><para>
				If camera's battery ran out (or removed),
				camera's date will reset to 1-Jan-2014,
				and camera's time will reset to 00:00:00 (midnight).
			</para></listitem>
		</itemizedlist>
		<?dbfo-need height="2.5in"?>
		<section id="setdate">
			<title>Setting Date</title>
			<indexterm><primary>Date</primary></indexterm>
			<para>
				To set camera's date,
				&accessurl;
			</para>
			<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3005&str=]]><replaceable>YYYY</replaceable>-<replaceable>MM</replaceable>-<replaceable>DD</replaceable></programlisting>
			<para>
				Substitute <varname>YYYY</varname> with four-digit CE year
				(e.g. <literal>2016</literal>),
				<varname>MM</varname> with two-digit month
				(e.g. <literal>07</literal> for July),
				and <varname>DD</varname> with two-digit date
				(e.g. <literal>15</literal> for 15<superscript>th</superscript> day of the month).
				From an experiment,
				specifying date or month in single digit seems to work too
				(but it's best not to dwell on that).
			</para>
			&confxmlresp;
			<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3005</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
			<para>
				&xmlrespcr;
			</para>
			<para>
				If you look at camera's screen,
				you'll see that date display is immediately updated.
			</para>
			<para>
				If you try to set an invalid date,
				e.g. using a nonexistent leap day like <literal>2015-02-29</literal>,
				using <literal>32</literal> as date
				or using <literal>13</literal> as month;
				the command will be ignored
				(the camera retains original date).
				Also,
				the command does not work properly
				if you set the year to before <literal>2000</literal>.
				In all cases,
				<emphasis>HTTP and XML response will still be the same</emphasis>.
			</para>
		</section>
		<?dbfo-need height="2.5in"?>
		<section id="settime">
			<title>Setting Time</title>
			<indexterm><primary>Time</primary></indexterm>
			<para>
				To set camera's time,
				&accessurl;
			</para>
			<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3006&str=]]><replaceable>HH</replaceable>:<replaceable>MM</replaceable>:<replaceable>SS</replaceable></programlisting>
			<para>
				Substitute <varname>HH</varname> with two-digit hour (using 24-hour clock),
				<varname>MM</varname> with two-digit minute,
				and <varname>SS</varname> with two-digit second;
				e.g. 11:07:05 p.m. is written as <literal>23:07:05</literal> .
			</para>
			&confxmlresp;
			<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3006</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
			<para>
				&xmlrespcr;
			</para>
			<para>
				If you look at camera's screen,
				you'll see that time display is immediately updated.
			</para>
			<para>
				If you try to set an invalid time,
				e.g. using <literal>25</literal> as hour,
				<literal>99</literal> as minute,
				<literal>-1</literal> as second,
				or using <literal>hello!</literal> as the time value;
				the command will be ignored
				(the camera retains original time),
				but <emphasis>HTTP and XML response will still be the same</emphasis>.
			</para>
		</section>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="language">
		<title>Setting Interface Language</title>
		<para>
			To change camera's language setting,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3008&par=]]><replaceable>LANGUAGENUM</replaceable></programlisting>
		<para>
			Substitute <literal>LANGUAGENUM</literal> with one of the following language numbers:
		</para>
		<table id="languagenum"><title>List of language numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Language number</entry><entry>Language</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>English</entry></row>
				<row><entry>1</entry><entry>French</entry></row>
				<row><entry>2</entry><entry>Spanish</entry></row>
				<row><entry>3</entry><entry>Polish</entry></row>
				<row><entry>4</entry><entry>German</entry></row>
				<row><entry>5</entry><entry>Italian</entry></row>
				<row><entry>6</entry><entry>Simplified Chinese</entry></row>
				<row><entry>7</entry><entry>Traditional Chinese</entry></row>
				<row><entry>8</entry><entry>Russian</entry></row>
				<row><entry>9</entry><entry>Japanese</entry></row>
				<row><entry>10</entry><entry>Korean</entry></row>
				<row><entry>11</entry><entry>Hebrew</entry></row>
				<row><entry>12</entry><entry>Portuguese</entry></row>
			</tbody>
		</tgroup></table>
		&confxmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3008</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Note:
		</para>
		<itemizedlist>
			<listitem><para>
				SJCAM ZONE does not offer this setting option.
			</para></listitem>
			<listitem><para>
				After applied the new setting,
				you won't notice any immediate change to the camera screen
				since it is the same in all languages.
				Only text in Setup screen is changed.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="resetconf">
		<title>Resetting Camera Configuration</title>
		<indexterm><primary>Default</primary></indexterm>
		<indexterm><primary>Reset</primary></indexterm>
		<para>
			In order to reset all camera settings to their default values,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3011&par=0]]></programlisting>
		<para>
			Once the configuration reset is done,
			&partxmlresp;
		</para>
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3011</Cmd>
<Status>0</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Notes:
		</para>
		<itemizedlist>
			<listitem><para>
				Like camera's own <emphasis>Setup &gt; Default Setting</emphasis> command,
				it does not reset date, time,
				or camera name (<quote>License No</quote> in Setup screen).
			</para></listitem>
			<listitem><para>
				Settings changes are immediately effective
				even it didn't show on camera screen,
				e.g. OSD's video recording resolution or photo shooting resolution icon
				might still showing the old one,
				but if you start video recording or shoot a photo,
				it will be in the new resolution;
				and the screen will update after recording/shooting is done
				or WiFi access is turned off
				(whichever comes first).
				Exceptions are WiFi SSID and password,
				which always take effect on the next WiFi access session.
			</para></listitem>
			<listitem><para>
				<literal>&amp;par=0</literal> part of the URL is not strictly required
				(though it is best not to dwell on this behavior).
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="format">
		<title>Formatting MicroSD Card</title>
		<indexterm><primary>Format</primary></indexterm>
		<para>
			To format the MicroSD card inserted in the camera,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3010&par=1]]></programlisting>
		&xmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3010</Cmd>
<Status>]]><replaceable>STATUS</replaceable><![CDATA[</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			<varname>STATUS</varname> part of the response
			will be one of the following format command status values:
		</para>
		<table id="formatstatus"><title>List of MicroSD format command status values</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Command status value</entry><entry>Command status meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>The MicroSD card is successfully formatted.</entry></row>
				<row><entry>-52</entry><entry>Formatting failed: there's no MicroSD card in the camera.</entry></row>
			</tbody>
		</tgroup></table>
		<?dbfo-need height="1.2in"?>
		<para>
			Notes:
		</para>
		<itemizedlist>
			<listitem><para>
				After the format is completed,
				available video recording length
				or number of remaining photos shown on camera screen
				might not immediately update.
				It will eventually refresh to show the correct value
				after you change camera mode,
				start video recording,
				shoot a photo,
				or turn off WiFi access.
			</para></listitem>
		</itemizedlist>
		<para>
			Extra trivia about MicroSD formatting function:
		</para>
		<itemizedlist>
			<listitem><para>
				The camera will not care how you previously formatted the MicroSD card.
				It will wipe out card's partition table (including boot records),
				and create a new MBR partition table,
				with full-card FAT32 primary partition type <literal>0b</literal> (hexadecimal)
				which starts on beginning of the second 4 MiB block of the card.
				Reserved sectors and FAT areas are arranged to fill exactly first 4 MiB of the partition,
				leaving data area starts just after it.
				FAT OEM ID will be set to <literal>SYSTEMID</literal> ,
				serial number will be set to <literal>00000001</literal> (hexadecimal),
				and volume label will be set to <literal>VOLUME1</literal>.
			</para></listitem>
			<listitem><para>
				When you try to format the card from SJCAM ZONE,
				it will always show <quote>Success</quote> status,
				no matter that there's a MicroSD card in the camera or not.
			</para></listitem>
		</itemizedlist>
	</section>
</chapter>
<chapter id="camerainfo">
	<title>Reading Camera Information</title>
	<indexterm><primary>HTTP</primary></indexterm>
	<indexterm><primary>Information</primary></indexterm>
	<para>
		Miscellaneous camera status and software information
		could also be obtained from camera's HTTP service
		&tcp80;.
	</para>
	<?dbfo-need height="2.5in"?>
	<section id="shootingstate">
		<title>Checking Recording and Timelapse Shooting Status</title>
		<para>
			To check whether video recording,
			timelapse video recording,
			or timelapse photo shooting is in progress,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=2016]]></programlisting>
		&xmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>2016</Cmd>
<Status>0</Status>
<Value>]]><replaceable>SHOOTINGSTATE</replaceable><![CDATA[</Value>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			<varname>SHOOTINGSTATE</varname> part in the response
			will be camera's continuous shooting status,
			which has following meaning:
		</para>
		<table id="shootingstatenum"><title>List of camera's continuous shooting status values</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Shooting status value</entry><entry>Shooting status meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>No video recording or timelapse photo shooting in progress</entry></row>
				<row><entry>1</entry><entry>Recording a video or timelapse video</entry></row>
				<row><entry>2</entry><entry>Shooting timelapse photos</entry></row>
			</tbody>
		</tgroup></table>
		<para>
			Note that although <varname>SHOOTINGSTATE</varname> value <literal>2</literal>
			means a timelapse photo shooting <emphasis>session</emphasis> is in progress,
			it does not imply that the camera is shooting one of the photos <emphasis>right now</emphasis>.
		</para>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="powerstate">
		<title>Checking Power Status</title>
		<indexterm><primary>Battery</primary></indexterm>
		<indexterm><primary>Charger</primary></indexterm>
		<indexterm><primary>Off</primary></indexterm>
		<indexterm><primary>Power</primary></indexterm>
		<indexterm><primary>Shutdown</primary></indexterm>
		<para>
			Camera's power status could be queried from camera's HTTP service
			&tcp80;,
			by &accessingurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3019]]></programlisting>
		&xmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3019</Cmd>
<Status>0</Status>
<Value>]]><replaceable>POWERSTATE</replaceable><![CDATA[</Value>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			<varname>POWERSTATE</varname> part in the response
			will be camera's power status value,
			which has following meaning:
		</para>
		<table id="powerstatenum"><title>List of power status values</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Power status value</entry><entry>Power status meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>0</entry><entry>Camera is running on battery, 100% charge.</entry></row>
				<row><entry>1</entry><entry>Camera is running on battery, 75% charge.</entry></row>
				<row><entry>2</entry><entry>Camera is running on battery, 50% charge.</entry></row>
				<row><entry>3</entry><entry>Camera is running on battery, 25% charge.</entry></row>
				<row><entry>4</entry><entry>Camera is running on battery, 0% charge.</entry></row>
				<row><entry>5</entry><entry>Camera is running with external power.</entry></row>
			</tbody>
		</tgroup></table>
		<?dbfo-need height="1.2in"?>
		<para>
			Notes:
		</para>
		<itemizedlist>
			<listitem><para>
				If the camera returned power status value <literal>4</literal>,
				this means it is in the process of powering down
				(splash screen already appeared;
				few seconds before completely powered off).
			</para></listitem>
			<listitem><para>
				If external power is plugged-in,
				returned power status value will be <literal>5</literal>
				regardless of current battery charge level.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="firmwarever">
		<title>Obtaining Firmware Information</title>
		<indexterm><primary>Version</primary></indexterm>
		<para>
			Camera's firmware information could be obtained
			by &accessingurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3012]]></programlisting>
		&xmlresp;
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3012</Cmd>
<Status>0</Status>
<String>]]><replaceable>VERSION</replaceable><![CDATA[</String>
</Function>]]></programlisting>
		<para>
			<varname>VERSION</varname> part will show your camera's firmware version,
			which is the same as one shown in camera's <emphasis>Setup &gt; Version</emphasis> screen.
			(For my camera,
			<varname>VERSION</varname> is returned as <literal>G20140116V01</literal>)
			&xmlrespcr;
		</para>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="listcommand">
		<title>Listing Supported Commands</title>
		<para>
			To list all command numbers that the camera recognizes,
			&accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3002]]></programlisting>
		&xmlresp;
		<programlisting><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>1001</Cmd>
<Cmd>1003</Cmd>
<Cmd>2016</Cmd>
<Cmd>2009</Cmd>
<Cmd>2001</Cmd>
<Cmd>2002</Cmd>
<Cmd>2003</Cmd>
<Cmd>2004</Cmd>
<Cmd>1012</Cmd>
<Cmd>2006</Cmd>
<Cmd>2007</Cmd>
<Cmd>2008</Cmd>
<Cmd>2010</Cmd>
<Cmd>2019</Cmd>
<Cmd>1002</Cmd>
<Cmd>1005</Cmd>
<Cmd>1006</Cmd>
<Cmd>1007</Cmd>
<Cmd>1008</Cmd>
<Cmd>1009</Cmd>
<Cmd>2005</Cmd>
<Cmd>1011</Cmd>
<Cmd>3025</Cmd>
<Cmd>3026</Cmd>
<Cmd>3011</Cmd>
<Cmd>3010</Cmd>
<Cmd>3007</Cmd>
<Cmd>3003</Cmd>
<Cmd>3004</Cmd>
<Cmd>3008</Cmd>
<Cmd>3012</Cmd>
<Cmd>2013</Cmd>
<Cmd>2014</Cmd>
<Cmd>2015</Cmd>
<Cmd>3001</Cmd>
<Cmd>3002</Cmd>
<Cmd>3005</Cmd>
<Cmd>3006</Cmd>
<Cmd>3013</Cmd>
<Cmd>3014</Cmd>
<Cmd>3015</Cmd>
<Cmd>3016</Cmd>
<Cmd>8001</Cmd>
<Cmd>8002</Cmd>
<Cmd>3017</Cmd>
<Cmd>3018</Cmd>
<Cmd>3019</Cmd>
<Cmd>3021</Cmd>
<Cmd>3022</Cmd>
<Cmd>3024</Cmd>
<Cmd>3028</Cmd>
<Cmd>3029</Cmd>
<Cmd>3030</Cmd>
<Cmd>4001</Cmd>
<Cmd>4002</Cmd>
<Cmd>4003</Cmd>
<Cmd>4004</Cmd>
<Cmd>3027</Cmd>
<Cmd>3023</Cmd>
</Function>]]></programlisting>
		<para>
			&xmlrespallcr;
			See <xref linkend="commandindex"/> for description of each command number returned from the camera.
			Commands that are not listed in the index
			are not found to be used by SJCAM ZONE,
			so their functions are unclear.
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Note:
		</para>
		<itemizedlist>
			<listitem><para>
				This command is not used by SJCAM ZONE
				(it was found as a result of trial and error).
			</para></listitem>
		</itemizedlist>
	</section>
</chapter>
<chapter id="statusstream">
	<title>Streaming Camera Status</title>
	<indexterm><primary>Event</primary></indexterm>
	<indexterm><primary>Information</primary></indexterm>
	<indexterm><primary>Notification</primary></indexterm>
	<indexterm><primary>Push Notification</primary></indexterm>
	<para>
		Apart from settings and status queries explained in previous chapters,
		the camera also provides a special channel where status changes
		could be continuously <emphasis>streamed</emphasis>
		instead of being periodically polled.
		This channel is provided by a network service located on TCP port 3333,
		which in this guide,
		I will refer to it as <quote>SJ4000WIFI Status Service</quote>.
		Some status information like elapsed video recording time
		and remaining photos count
		are exclusive to this channel.
	</para>
	<para>
		The service provide these information:
	</para>
	<itemizedlist>
		<listitem><simpara>Notification when each video recording is started or stopped.</simpara></listitem>
		<listitem><simpara>Notification when timelapse photo shooting is started or stopped.</simpara></listitem>
		<listitem><simpara>Time elapsed during video recording.</simpara></listitem>
		<listitem><simpara>Number of remaining pictures that could be shot.</simpara></listitem>
		<listitem><simpara>Notification when the MicroSD card became full while recording video or shooting photo.</simpara></listitem>
		<listitem><simpara>Notification when the battery is running out.</simpara></listitem>
		<listitem><simpara>Notification when the WiFi access is going down.</simpara></listitem>
	</itemizedlist>
	<para>
		To listen to status stream,
		simply connect to <literal>192.168.1.254</literal> on TCP port <literal>3333</literal>
		using any raw TCP communication program like <glossterm linkend="netcat">Netcat</glossterm>,
		<glossterm linkend="ncat">Ncat</glossterm>,
		<glossterm linkend="socat">Socat</glossterm>,
		<glossterm linkend="putty">PuTTY</glossterm>,
		or even <glossterm linkend="telnet">Telnet</glossterm>.
		This service is simplex,
		only the camera sends data to connected clients,
		the camera doesn't read any data sent from any clients.
	</para>
	<para>
		Each status item will come in a single TCP packet,
		with content that looks like regular XML file,
		each line terminated with a single LF (ASCII 10) character
		except the last line of each message (which is not terminated).
		If you're writing application that parse this message stream,
		I would recommend that you <emphasis>use the end of root XML tag</emphasis>
		as a message delimiter,
		rather than the end of read block boundary;
		as when there are two or more messages coming at the same time,
		your OS or middleware library might combine them into a single data block
		before it reach your application.
	</para>
	<?dbfo-need height="2.5in"?>
	<section id="cameraevent">
		<title>General Camera Event Status</title>
		<indexterm><primary>Off</primary></indexterm>
		<indexterm><primary>Shutdown</primary></indexterm>
		<para>
			This status message is emitted to indicate general camera events
			like video recording or timelapse photo shooting start/stop,
			WiFi access shutdown,
			or battery level warning.
			The message has following format:
		</para>
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3020</Cmd>
<Status>]]><replaceable>EVENTNUM</replaceable><![CDATA[</Status>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			<varname>EVENTNUM</varname> part of the message
			will be one the camera event numbers:
		</para>
		<table id="cameraeventnum"><title>List of camera event numbers</title><tgroup cols="2">
			<colspec colwidth="0.6*"/>
			<colspec/>
			<thead>
				<row><entry>Camera event number</entry><entry>Camera event meaning</entry></row>
			</thead>
			<tbody>
				<row><entry>-11</entry><entry>Storage space on MicroSD card ran out while saving photo.</entry></row>
				<row><entry>-10</entry><entry>Battery is going to run out.</entry></row>
				<row><entry>-7</entry><entry>Storage space on MicroSD card ran out while recording video.</entry></row>
				<row><entry>1</entry><entry>Timelapse video recording is just started.</entry></row>
				<row><entry>2</entry><entry>Timelapse video recording is just stopped.</entry></row>
				<row><entry>3</entry><entry>WiFi access is about to go down.</entry></row>
				<row><entry>8</entry><entry>Normal video recording is just started.</entry></row>
				<row><entry>9</entry><entry>Normal video recording is just stopped.</entry></row>
				<row><entry>10</entry><entry>Timelapse photo shooting is just started.</entry></row>
				<row><entry>11</entry><entry>Timelapse photo shooting is just stopped.</entry></row>
			</tbody>
		</tgroup></table>
		<para>
			This status message will appear:
		</para>
		<itemizedlist>
			<listitem><para>
				1 time immediately after video recording (normal or timelapse) is started;
				just before elapsed video recording time status message.
			</para></listitem>
			<listitem><para>
				1 time immediately after video recording (normal or timelapse) is stopped;
				after last elapsed video recording time status message.
			</para></listitem>
			<listitem><para>
				1 time immediately after timelapse photo shooting timer is started;
				just a blink before the camera returns HTTP response for photo shooting command.
				This event does not imply that the first photo shot is finished and saved.
			</para></listitem>
			<listitem><para>
				1 time immediately after timelapse photo shooting timer is stopped;
				just a blink before the camera returns HTTP response for photo shooting command.
				This event does not imply that the last photo shot is finished and saved.
			</para></listitem>
			<listitem><para>
				8 times in succession before the battery ran out,
				with ~0.5 sec between each one;
				last one will emitted a blink before the WiFi access down message.
			</para></listitem>
			<listitem><para>
				1 time when the camera attempted to write to a full MicroSD card
				while recording video or timelapse video.
				If this happened at the start of video recording,
				it will be emitted after 0 sec elapsed recording time message.
				Also,
				video recording stop event status message will not be emitted
				in this case despite the fact that video recording is stopped.
			</para></listitem>
			<listitem><para>
				1 time when the camera attempted to write to a full MicroSD card
				while saving photo shot in normal photo shooting mode.
				When this message is emitted,
				the camera would stop responding to any further commands
				(it will hang/not responding to the HTTP request with command URI,
				but file access requests are still served normally).
				Disabling and re-enabling WiFi access would put it back in order.
			</para></listitem>
			<listitem><para>
				1 time when the camera attempted to write to a full MicroSD card
				while saving <emphasis>timelapse</emphasis> photo shot.
				When this happens,
				the camera would stop responding to any further commands
				like the similar situation in normal photo shooting.
				But in this case,
				the camera would also show a <quote>Card Full</quote> message
				in the middle of screen,
				and you cannot use Up button to turn off WiFi access anymore;
				you can only hold down power button to turn it off.
			</para></listitem>
			<listitem><para>
				1 time immediately when the WiFi access is going down.
				(No matter that it is caused by user manually turning off WiFi access by pressing Up button;
				or camera begins a process of powering down:
				user holding down power button,
				unplugging USB cable,
				removing MicroSD card,
				battery running out,
				or connected device issuing power down command via WiFi access)
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="videoelapsed">
		<title>Elapsed Video Recording Time Status</title>
		<indexterm><primary>Duration</primary></indexterm>
		<indexterm><primary>Elapsed</primary></indexterm>
		<indexterm><primary>Length</primary></indexterm>
		<indexterm><primary>Time</primary></indexterm>
		<para>
			This status message is emitted to provide duration information
			about current video recording in progress;
			it is emitted only while the camera is recording video
			(both normal and timelapse video).
			The message has following format:
		</para>
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>2020</Cmd>
<Status>]]><replaceable>ELAPSEDTIME</replaceable><![CDATA[</Status>
</Function>]]></programlisting>
		<para>
			<varname>ELAPSEDTIME</varname> part of the message
			will be the number of seconds recorded on current video recording in progress;
			this time would be ahead of one shown on top-left corner of camera screen about 1 second.
			Note that this is not the amount of wall-clock time elapsed during recording,
			which differ greatly when recording video in timelapse mode.
			&xmlrespcr;
		</para>
		<para>
			This status message will appear:
		</para>
		<itemizedlist>
			<listitem><para>
				1 time immediately after video recording is started
				(but after the corresponding camera event status message),
				which shows 0 second elapsed.
			</para></listitem>
			<listitem><para>
				Once every 1 sec while the recording is in progress.
				If you are recording timelapse video,
				it will report a lot of duplicate time values,
				as the amount of time recorded in the video changes slowly
				compared to wall-clock time.
			</para></listitem>
		</itemizedlist>
		<?dbfo-need height="1.2in"?>
		<para>
			Note:
		</para>
		<itemizedlist>
			<listitem><para>
				If loop recording is enabled,
				the elapsed time emitted in this message
				will be the time elapsed in current video recording chunk;
				it will reset to zero when the camera starts recording the new chunk.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="photoremain">
		<title>Remaining Photos Status</title>
		<para>
			This status message is emitted at the beginning of photo shooting mode
			(both normal and timelapse)
			and after each photo is shot,
			to show how much space on MicroSD card is left for photo shooting.
			This status message has following format:
		</para>
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>1013</Cmd>
<Status>]]><replaceable>PHOTOCOUNT</replaceable><![CDATA[</Status>
</Function>]]></programlisting>
		<para>
			<varname>PHOTOCOUNT</varname> part of the message
			will be the number of photos that still could be taken
			(in current configured resolution)
			before the MicroSD card is full;
			the same number as shown on bottom-left corner of camera screen
			(but without leading zeros).
			&xmlrespcr;
		</para>
		<para>
			This status message will appear:
		</para>
		<itemizedlist>
			<listitem><para>
				4 times in succession
				just after you switched the camera to photo shooting
				or timelapse photo shooting mode,
				with ~1 sec delay at the beginning,
				and ~1 sec delay between each one.
				Attempting to change camera to photo shooting
				or timelapse photo shooting mode while already in that mode
				also cause this set of message to be emitted.
				If no MicroSD card is inserted,
				the reported number will be 0;
				so as one displayed on the camera screen.
			</para></listitem>
			<listitem><para>
				1 time immediately after a photo is shot and saved
				in both photo shooting and timelapse photo shooting mode.
				In photo shooting mode,
				it is emitted at the same moment that camera returns HTTP response
				for photo shooting command.
				If no MicroSD card is inserted,
				no message will be emitted after a failed photo shooting attempt.
			</para></listitem>
		</itemizedlist>
		<?dbfo-need height="1.2in"?>
		<para>
			Important notes:
		</para>
		<itemizedlist>
			<listitem><para>
				When the camera returned <varname>PHOTOCOUNT</varname> value 1,
				it is likely not enough space left on MicroSD card
				to store the last photo.
				It is advisable to avoid shooting photo in this situation
				as the camera has a glitch which stops all camera command processing
				if there is not enough storage space to store the photo after it has been shot.
			</para></listitem>
		</itemizedlist>
	</section>
</chapter>
<appendix id="commandformat">
	<title>Camera Command Format</title>
	<para>
		This appendix is a summary of camera command characteristics,
		which you probably already observed when you read main chapters of the guide.
		Camera receives control commands via its HTTP service &tcp80;.
		There are three kinds of command:
		commands with no parameter,
		commands with a numeric parameter,
		and commands with a string parameter.
	</para>
	<para>
		To issue a command,
		open your web browser to one of the following URLs
		(depending on the command type):
	</para>
	<itemizedlist>
		<listitem>
			<para>Command with no parameter:</para>
			<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=]]><replaceable>COMMAND</replaceable></programlisting>
		</listitem>
		<listitem>
			<para>Command with numeric parameter:</para>
			<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=]]><replaceable>COMMAND</replaceable><![CDATA[&par=]]><replaceable>ARGNUMBER</replaceable></programlisting>
		</listitem>
		<listitem>
			<para>Command with string parameter:</para>
			<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=]]><replaceable>COMMAND</replaceable><![CDATA[&str=]]><replaceable>ARGSTRING</replaceable></programlisting>
		</listitem>
	</itemizedlist>
	<para>
		Substitute <varname>COMMAND</varname> with the camera command number you wish to issue
		(see <xref linkend="commandindex"/> for a list of available commands)
		and,
		when applicable,
		substitute <varname>ARGNUMBER</varname> with a numeric <emphasis>integer</emphasis> parameter to the command,
		or <varname>ARGSTRING</varname> with a percent-encoded string parameter to the command.
		How exactly a command uses the supplied parameter varies,
		depending on the command number;
		which are already documented in main chapters of the guide.
	</para>
	<?dbfo-need height="1.2in"?>
	<para>
		Extra trivia about <varname>ARGNUMBER</varname> integer:
	</para>
	<itemizedlist>
		<listitem><para>
			It can be positive integer,
			zero,
			or negative integer.
			But it is always in base 10.
		</para></listitem>
		<listitem><para>
			If you omitted <literal><![CDATA[&par=]]><replaceable>ARGNUMBER</replaceable></literal>
			part from the URL of a command that expects it,
			the result would be the same as specifying <varname>ARGNUMBER</varname> as <literal>0</literal>.
		</para></listitem>
		<listitem>
			<para>
				The camera seems to parse <varname>ARGNUMBER</varname>
				in a manner similar to standard C library function <literal>atoi()</literal>.
			</para>
			<itemizedlist>
				<listitem><para>
					The camera will stop parsing <varname>ARGNUMBER</varname> at the first character that is not parsable.
					So <literal>3A</literal> will be parsed as 3,
					<literal>2.6</literal> will be parsed as 2,
					<literal>-1.2B</literal> will be parsed as -1;
					and things like <literal>Hello</literal>,
					<literal>ABC123</literal>,
					<literal>NaN</literal>,
					<literal>-Inf</literal>,
					<literal>Infinite</literal>
					are not parsable.
				</para></listitem>
				<listitem><para>
					If <varname>ARGNUMBER</varname> is not parsable,
					camera will act as if you gave <literal>0</literal>
					as <varname>ARGNUMBER</varname>.
				</para></listitem>
			</itemizedlist>
		</listitem>
	</itemizedlist>
	<para>
		Once the camera finished applying your command,
		it would &xmlrespsemi;
	</para>
	<programlisting><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>]]><replaceable>COMMAND_01</replaceable><![CDATA[</Cmd>
<Status>]]><replaceable>STATUS_01</replaceable><![CDATA[</Status>
<Value>]]><replaceable>VALUE_01</replaceable><![CDATA[</Value>
<String>]]><replaceable>STRING_01</replaceable><![CDATA[</String>
<Cmd>]]><replaceable>COMMAND_02</replaceable><![CDATA[</Cmd>
<Status>]]><replaceable>STATUS_02</replaceable><![CDATA[</Status>
<Value>]]><replaceable>VALUE_02</replaceable><![CDATA[</Value>
<String>]]><replaceable>STRING_02</replaceable><![CDATA[</String>
.
.
.
<Cmd>]]><replaceable>COMMAND_NN</replaceable><![CDATA[</Cmd>
<Status>]]><replaceable>STATUS_NN</replaceable><![CDATA[</Status>
<Value>]]><replaceable>VALUE_NN</replaceable><![CDATA[</Value>
<String>]]><replaceable>STRING_NN</replaceable><![CDATA[</String>
</Function>
]]></programlisting>
	<para>
		Each line is terminated by a single LF (ASCII 10) character.
		Whether the last line is terminated or not,
		depends on the command:
		commands that return multiple <literal><![CDATA[<Cmd>]]><replaceable><![CDATA[COMMAND_NN]]></replaceable><![CDATA[</Cmd>]]></literal> line
		would terminate the last line,
		other commands won't terminate it.
	</para>
	<para>
		Body part of XML response inside the <literal><![CDATA[<Function>]]></literal> tag
		will be one or more groups of lines described below.
		Lines in each group will also be returned in this order:
	</para>
	<itemizedlist>
		<listitem>
			<programlisting><![CDATA[<Cmd>]]><replaceable>COMMAND_NN</replaceable><![CDATA[</Cmd>]]></programlisting>
			<para>
				This line is always present,
				and is the first line in each group.
				<varname>COMMAND_NN</varname> integer will be the command number you just issued,
				a command number in the list,
				or the number of the configuration item you requested.
			</para>
		</listitem>
		<listitem>
			<programlisting><![CDATA[<Status>]]><replaceable>STATUS_NN</replaceable><![CDATA[</Status>]]></programlisting>
			<para>
				This line is present in most cases.
				<varname>STATUS_NN</varname> integer will be an operation status
				returned from the command you just issued,
				or a value of the configuration item/status you requested.
				(The exception is where <varname>VALUE_NN</varname> is also returned:
				the requested status value will be represented there instead,
				and this line will represent an operation status of the request command itself)
			</para>
		</listitem>
		<listitem>
			<programlisting><![CDATA[<Value>]]><replaceable>VALUE_NN</replaceable><![CDATA[</Value>]]></programlisting>
			<para>
				This line seems to be present only in a result of status query command.
				<varname>VALUE_NN</varname> integer will be the value of status item you requested.
				This line will not be be returned together with the line containing <varname>STRING_NN</varname>.
			</para>
		</listitem>
		<listitem>
			<programlisting><![CDATA[<String>]]><replaceable>STRING_NN</replaceable><![CDATA[</String>]]></programlisting>
			<para>
				This line seems to be present only in a result of software information query command.
				<varname>STRING_NN</varname> will be the string value of information item you requested.
				This line will not be returned together with the line containing <varname>VALUE_NN</varname>.
			</para>
		</listitem>
	</itemizedlist>
	<para>
		Note that response structure of each command will be constant;
		giving it different parameters or issuing it in different situation
		will not change structure,
		number of groups,
		or whether each line would appear in each group of the response.
	</para>
	<para>
		Examples of command response could be found throughout the main chapters.
		Also,
		you may notice that streamed status messages
		are also using the same data format as commands' response;
		though the line containing <varname>COMMAND_NN</varname>
		will represent an event identifier instead of command number.
	</para>
</appendix>
<appendix id="commandlist">
	<title>Camera Commands Listing</title>
	<?dbfo-need height="2.5in"?>
	<section id="commandindex">
		<title>Camera Commands Index</title>
		<para>
			Following is a list of camera control commands,
			sorted by command number.
		</para>
		<table id="commandindextable"><title>List of camera command numbers</title><tgroup cols="2">
			<colspec colwidth="0.25*"/>
			<colspec/>
			<thead>
				<row>
					<entry>Command number</entry>
					<entry>Command description</entry>
				</row>
			</thead>
			<tbody>
				<row><entry>1001</entry><entry><link linkend="photoshoot">Shoot a photo, start/stop timelapse photo shooting</link></entry></row>
				<row><entry>1002</entry><entry><link linkend="photoresolution">Set photo shooting resolution</link></entry></row>
				<row><entry>1007</entry><entry><link linkend="whitebalance">Set white balance mode</link></entry></row>
				<row><entry>1012</entry><entry><link linkend="timelapsephoto">Set timelapse photo shooting interval</link></entry></row>
				<row><entry>2001</entry><entry><link linkend="videorecord">Start/stop video recording</link></entry></row>
				<row><entry>2002</entry><entry><link linkend="videoresolution">Set video recording resolution</link></entry></row>
				<row><entry>2003</entry><entry><link linkend="looprecording">Set loop recording mode</link></entry></row>
				<row><entry>2004</entry><entry><link linkend="wdr">Set wide dynamic range mode</link></entry></row>
				<row><entry>2005</entry><entry><link linkend="exposure">Set exposure value</link></entry></row>
				<row><entry>2006</entry><entry><link linkend="motiontrigger">Set motion-triggered mode</link></entry></row>
				<row><entry>2007</entry><entry><link linkend="audiorec">Set audio recording mode</link></entry></row>
				<row><entry>2008</entry><entry><link linkend="timestamp">Set timestamp overlay mode</link></entry></row>
				<row><entry>2016</entry><entry><link linkend="shootingstate">Get video recording and timelapse photo shooting status</link></entry></row>
				<row><entry>2019</entry><entry><link linkend="timelapsevideo">Set timelapse video capture rate</link></entry></row>
				<row><entry>3001</entry><entry><link linkend="modeswitch">Set camera mode</link></entry></row>
				<row><entry>3002</entry><entry><link linkend="listcommand">List supported commands</link></entry></row>
				<row><entry>3003</entry><entry><link linkend="ssid">Set WiFi SSID</link></entry></row>
				<row><entry>3004</entry><entry><link linkend="password">Set WiFi password</link></entry></row>
				<row><entry>3005</entry><entry><link linkend="setdate">Set camera date</link></entry></row>
				<row><entry>3006</entry><entry><link linkend="settime">Set camera time</link></entry></row>
				<row><entry>3007</entry><entry><link linkend="autooff">Set automatic power off time</link></entry></row>
				<row><entry>3008</entry><entry><link linkend="language">Set interface language</link></entry></row>
				<row><entry>3010</entry><entry><link linkend="format">Format MicroSD card</link></entry></row>
				<row><entry>3011</entry><entry><link linkend="resetconf">Reset camera configuration</link></entry></row>
				<row><entry>3012</entry><entry><link linkend="firmwarever">Get firmware version</link></entry></row>
				<row><entry>3014</entry><entry><link linkend="settingsread">Get camera settings</link></entry></row>
				<row><entry>3016</entry><entry><link linkend="modequery">Get camera mode</link></entry></row>
				<row><entry>3019</entry><entry><link linkend="powerstate">Get power status</link></entry></row>
				<row><entry>3025</entry><entry><link linkend="powerfreq">Set power line frequency</link></entry></row>
				<row><entry>3027</entry><entry><emphasis>(Unknown, <link linkend="cmd3027">see below</link>)</emphasis></entry></row>
			</tbody>
		</tgroup></table>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="cmd3027">
		<title>Mysterious Command 3027</title>
		<para>
			This command is not documented in the main chapters of this guide
			as it is not used for controlling the camera.
			It receives no parameter,
			and generates cryptic number.
			This command is used by SJCAM ZONE for an unclear reason.
		</para>
		<para>
			To issue this command, &accessurl;
		</para>
		<programlisting><![CDATA[http://192.168.1.254/?custom=1&cmd=3027]]></programlisting>
		<para>
			Once the command is acknowledged,
			&partxmlresp;
		</para>
		<programlisting><?dbfo keep-together="always"?><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<Function>
<Cmd>3027</Cmd>
<Status>0</Status>
<Value>]]><replaceable>CHALLENGE</replaceable><![CDATA[</Value>
</Function>]]></programlisting>
		<para>
			&xmlrespcr;
			<varname>CHALLENGE</varname> part of the response
			will be a seemingly-random positive integer with large value
			(8-digits or so).
			This integer value seems to be dependent on camera's date/time,
			changing every 1 sec.
		</para>
		<para>
			Due to the fact that SJCAM ZONE tries to synchronize camera's clock on its startup
			(as described in <xref linkend="datetime"/>),
			this value might be used as some sort of time-based challenge;
			possibly for checking authenticity of the camera.
		</para>
	</section>
</appendix>
<appendix id="setupscreen">
	<title>Camera Setup Screen</title>
	<indexterm><primary>Settings</primary></indexterm>
	<indexterm><primary>Setup</primary></indexterm>
	<indexterm><primary>Configuration</primary></indexterm>
	<para>
		This appendix lists all available items in camera's Setup screen
		and choices available in each item;
		quoted verbatim,
		listed in original order.
		Choices marked with <emphasis role="strong">bold text</emphasis> are default values.
		This information is also available
		(though in less complete form)
		from camera manual.
	</para>
	<para>
		Note that <quote>Default Setting</quote> command does not reset camera's date,
		time,
		and <quote>License No</quote> (camera name) setting.
		And yes,
		<quote>Hebrew language</quote> choice in camera's Language option
		is really written backward;
		took me a while to figure this out.
	</para>
	<itemizedlist>
		<listitem>
			<para>Resolution</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">1080FHD 1920x1080</emphasis></simpara></listitem>
				<listitem><simpara>720P 1280x720 60 FPS</simpara></listitem>
				<listitem><simpara>720P 1280x720 30 FPS</simpara></listitem>
				<listitem><simpara>WVGA 848x480</simpara></listitem>
				<listitem><simpara>VGA 640x480</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>TV out</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">Off</emphasis></simpara></listitem>
				<listitem><simpara>On</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>OSD mode</para>
			<itemizedlist>
				<listitem><simpara>Off</simpara></listitem>
				<listitem><simpara><emphasis role="strong">On</emphasis></simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>video lapse</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">Off</emphasis></simpara></listitem>
				<listitem><simpara>1 Seconds</simpara></listitem>
				<listitem><simpara>2 Seconds</simpara></listitem>
				<listitem><simpara>5 Seconds</simpara></listitem>
				<listitem><simpara>10 Seconds</simpara></listitem>
				<listitem><simpara>30 Seconds</simpara></listitem>
				<listitem><simpara>1 Minute</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Capture Mode</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">Single</emphasis></simpara></listitem>
				<listitem><simpara>3S Timer</simpara></listitem>
				<listitem><simpara>5S Timer</simpara></listitem>
				<listitem><simpara>10S Timer</simpara></listitem>
				<listitem><simpara>20S Timer</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Cyclic Record</para>
			<itemizedlist>
				<listitem><simpara>Off</simpara></listitem>
				<listitem><simpara><emphasis role="strong">3 Minutes</emphasis></simpara></listitem>
				<listitem><simpara>5 Minutes</simpara></listitem>
				<listitem><simpara>10 Minutes</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>HDR</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">Off</emphasis></simpara></listitem>
				<listitem><simpara>On</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Motion Detection</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">Off</emphasis></simpara></listitem>
				<listitem><simpara>On</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Audio</para>
			<itemizedlist>
				<listitem><simpara>Off</simpara></listitem>
				<listitem><simpara><emphasis role="strong">On</emphasis></simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Date Stamping</para>
			<itemizedlist>
				<listitem><simpara>Off</simpara></listitem>
				<listitem><simpara><emphasis role="strong">On</emphasis></simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Image Size</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">12M 4032x3024</emphasis></simpara></listitem>
				<listitem><simpara>10M 3648x2736</simpara></listitem>
				<listitem><simpara>8M 3264x2448</simpara></listitem>
				<listitem><simpara>5M 2592x1944</simpara></listitem>
				<listitem><simpara>3M 2048x1536</simpara></listitem>
				<listitem><simpara>2MHD 1920x1080</simpara></listitem>
				<listitem><simpara>VGA 640x480</simpara></listitem>
				<listitem><simpara>1.3M 1280x960</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Quality</para>
			<itemizedlist>
				<listitem><simpara>Fine</simpara></listitem>
				<listitem><simpara><emphasis role="strong">Normal</emphasis></simpara></listitem>
				<listitem><simpara>Economy</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Sharpness</para>
			<itemizedlist>
				<listitem><simpara>Strong</simpara></listitem>
				<listitem><simpara><emphasis role="strong">Normal</emphasis></simpara></listitem>
				<listitem><simpara>Soft</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>White Balance</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">Auto</emphasis></simpara></listitem>
				<listitem><simpara>Daylight</simpara></listitem>
				<listitem><simpara>Cloudy</simpara></listitem>
				<listitem><simpara>Tungsten</simpara></listitem>
				<listitem><simpara>Fluorescent</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Color</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">Color</emphasis></simpara></listitem>
				<listitem><simpara>B&amp;W</simpara></listitem>
				<listitem><simpara>Sepia</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>ISO</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">Auto</emphasis></simpara></listitem>
				<listitem><simpara>100</simpara></listitem>
				<listitem><simpara>200</simpara></listitem>
				<listitem><simpara>400</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Exposure</para>
			<itemizedlist>
				<listitem><simpara>+2.0</simpara></listitem>
				<listitem><simpara>+5/3</simpara></listitem>
				<listitem><simpara>+4/3</simpara></listitem>
				<listitem><simpara>+1.0</simpara></listitem>
				<listitem><simpara>+2/3</simpara></listitem>
				<listitem><simpara>+1/3</simpara></listitem>
				<listitem><simpara><emphasis role="strong">+0.0</emphasis></simpara></listitem>
				<listitem><simpara>-1/3</simpara></listitem>
				<listitem><simpara>-2/3</simpara></listitem>
				<listitem><simpara>-1.0</simpara></listitem>
				<listitem><simpara>-4/3</simpara></listitem>
				<listitem><simpara>-5/3</simpara></listitem>
				<listitem><simpara>-2.0</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Anti-Shaking</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">Off</emphasis></simpara></listitem>
				<listitem><simpara>On</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Language</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">English</emphasis></simpara></listitem>
				<listitem><simpara>Fran&ccedil;ais</simpara></listitem>
				<listitem><simpara>Espa&ntilde;ol</simpara></listitem>
				<listitem><simpara>Polski</simpara></listitem>
				<listitem><simpara>Deutsch</simpara></listitem>
				<listitem><simpara>Italiano</simpara></listitem>
				<listitem><simpara><phrase lang="zh">&#31616;&#20307;&#20013;&#25991;</phrase></simpara></listitem>
				<listitem><simpara><phrase lang="zh">&#32321;&#39636;&#20013;&#25991;</phrase></simpara></listitem>
				<listitem><simpara><phrase lang="ru">&#1056;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;</phrase></simpara></listitem>
				<listitem><simpara><phrase lang="ja">&#26085;&#26412;&#35486;</phrase></simpara></listitem>
				<listitem><simpara><phrase lang="ko">&#54620;&#44397;&#50612;</phrase></simpara></listitem>
				<listitem><simpara><phrase lang="he">&#1514;&#1497;&#1512;&#1489;&#1506;&#1514;&#1508;&#1513;</phrase></simpara></listitem>
				<listitem><simpara>Portug&ecirc;s</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Date/Time</para>
			<informaltable><tgroup cols="2">
				<tbody>
					<row><entry>Year:</entry><entry>2012 ... 2050</entry></row>
					<row><entry>Month:</entry><entry>01 ... 12</entry></row>
					<row><entry>Date:</entry><entry>01 ... 31</entry></row>
					<row><entry>Hour:</entry><entry>00 ... 23</entry></row>
					<row><entry>Minute:</entry><entry>00 ... 59</entry></row>
					<row><entry>Second:</entry><entry>00 ... 59</entry></row>
					<row><entry>Display order:</entry><entry><emphasis role="strong">YY/MM/DD</emphasis>, MM/DD/YY, DD/MM/YY</entry></row>
				</tbody>
			</tgroup></informaltable>
		</listitem>
		<listitem>
			<para><indexterm><primary>Power</primary></indexterm>Auto Power Off</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">Off</emphasis></simpara></listitem>
				<listitem><simpara>3 Minutes</simpara></listitem>
				<listitem><simpara>5 Minutes</simpara></listitem>
				<listitem><simpara>10 Minutes</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Beep Sound</para>
			<itemizedlist>
				<listitem><simpara>Off</simpara></listitem>
				<listitem><simpara><emphasis role="strong">On</emphasis></simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>TV Mode</para>
			<itemizedlist>
				<listitem><simpara>NTSC</simpara></listitem>
				<listitem><simpara><emphasis role="strong">PAL</emphasis></simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>screensavers</para>
			<itemizedlist>
				<listitem><simpara>30 Seconds</simpara></listitem>
				<listitem><simpara><emphasis role="strong">1 Minute</emphasis></simpara></listitem>
				<listitem><simpara>3 Minutes</simpara></listitem>
				<listitem><simpara>5 Minutes</simpara></listitem>
				<listitem><simpara>Off</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Frequency</para>
			<itemizedlist>
				<listitem><simpara>50 Hz</simpara></listitem>
				<listitem><simpara><emphasis role="strong">60 Hz</emphasis></simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Rotate</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">Off</emphasis></simpara></listitem>
				<listitem><simpara>On</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem>
			<para>Car Mode</para>
			<itemizedlist>
				<listitem><simpara><emphasis role="strong">Off</emphasis></simpara></listitem>
				<listitem><simpara>On</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem><para>WIFI SSID</para></listitem>
		<listitem><para>WIFI Password</para></listitem>
		<listitem><para>License No set</para></listitem>
		<listitem>
			<para>Delete</para>
			<itemizedlist>
				<listitem><simpara>Delete Current?</simpara></listitem>
				<listitem><simpara>Delete all?</simpara></listitem>
			</itemizedlist>
		</listitem>
		<listitem><para><indexterm><primary>Format</primary></indexterm>Format</para></listitem>
		<listitem><para><indexterm><primary>Default</primary></indexterm><indexterm><primary>Reset</primary></indexterm>Default Setting</para></listitem>
		<listitem>
			<para>Version</para>
			<informaltable><tgroup cols="2">
				<tbody>
					<row><entry>Model:</entry><entry>SJ4000WIFI</entry></row>
					<row><entry>Version:</entry><entry>G20140116V01</entry></row>
					<row><entry>Date:</entry><entry>Jan 16 2015</entry></row>
					<row><entry>Firm:</entry><entry>SJCAM</entry></row>
				</tbody>
			</tgroup></informaltable>
		</listitem>
	</itemizedlist>
</appendix>
<appendix id="cameratonet">
	<title>Connecting Camera to Existing Network</title>
	<indexterm><primary>Network</primary></indexterm>
	<?dbfo-need height="1.5in"?>
	<warning>
		<para>
			Since camera's network access is protected
			solely by WiFi's WPA2-PSK passphrase,
			connecting the camera to other network
			will allow any machine on that network to access the camera
			<emphasis role="strong">without any authentication</emphasis>.
			Make sure you know who/what can access the network
			before connecting the camera to it.
		</para>
	</warning>
	<para>
		If you need to connect the camera from a desktop or laptop,
		the simplest way (and intended way)
		is using wireless LAN card to connect directly to camera's WiFi access point.
		But this is not always possible,
		for example,
		when the machine you're trying to use the camera
		has only <emphasis>wired</emphasis> LAN connection.
	</para>
	<para>
		IEEE 802.11 (wireless LAN) standards require that access point,
		when receiving wireless frames,
		respond to only to frames addressed from machines directly associated with it.
		So in general,
		you cannot bridge wired LAN network to wireless LAN
		if you are not the access point yourself;
		the access point will just discard all frames sent through the bridge.
		And that is exactly the problem,
		since the camera cannot act as anything but an access point.
	</para>
	<para>
		So, in order to connect the camera to existing network,
		some special configuration is needed.
		There are several ways to make them work,
		and each of them has different advantages and limitations:
	</para>
	<itemizedlist>
		<listitem><para>Using ARP proxy</para></listitem>
		<listitem><para>Using NAT</para></listitem>
		<listitem><para>Using 1:1 NAT with ARP proxy</para></listitem>
	</itemizedlist>
	<para>
		All examples assume we want to use the camera from desktop PC,
		and use laptop for wirelessly connecting to the camera;
		desktop PC has only wired LAN interface,
		laptop has both wired and wireless LAN interface.
		If you use a different mix of devices,
		substitute them accordingly.
		Android mobile device
		can also be used as a substitution for laptop,
		but its handling will be slightly different;
		which will be discussed later on.
	</para>
	<?dbfo-need height="2.5in"?>
	<section id="arpproxyroute">
		<title>Using ARP Proxy</title>
		<indexterm><primary>ARP Proxy</primary></indexterm>
		<para>
			In this approach,
			we leave the camera in its own Ethernet network,
			separated from the main network.
			Then,
			configure a fake network bridge from IP level
			(rather than Ethernet level)
			by using static route and <glossterm linkend="arpproxy">ARP proxy</glossterm> replies.
		</para>
		<?dbfo-need height="1.2in"?>
		<para>
			Notes:
		</para>
		<itemizedlist>
			<listitem><para>
				Normal routing
				(which completely separate main network and camera network)
				won't work since we cannot set static route
				or default gateway on the camera;
				camera won't know how to send packets to the external network.
			</para></listitem>
			<listitem><para>
				If we didn't enable ARP proxy,
				packets from camera won't reach the PC,
				even packets from PC did reach the camera first;
				this is because the camera didn't learn MAC address from incoming packets,
				thus limited to ARP for locating MAC address to send the reply frame,
				which won't work without ARP proxy in this configuration.
			</para></listitem>
		</itemizedlist>
		<para>
			Advantages:
		</para>
		<itemizedlist>
			<listitem><para>All camera's functionalities are usable.</para></listitem>
			<listitem><para>No configuration needed from PC side.</para></listitem>
		</itemizedlist>
		<?dbfo-need height="1.5in"?>
		<para>
			Limitations:
		</para>
		<itemizedlist>
			<listitem><para>Your network's address range must cover 192.168.1.0/24 .</para></listitem>
			<listitem><para>PC must be in address range 192.168.1.0/24 .</para></listitem>
			<listitem><para>Your network must not have any machine occupying address 192.168.1.254 .</para></listitem>
			<listitem><para>Laptop's operating system must support ARP proxy.</para></listitem>
		</itemizedlist>
		<figure id="arpproxyroutediagram">
			<title>Example network configuration using static route and ARP proxy</title>
			<mediaobject>
				<imageobject role="fo"><imagedata format="SVG" fileref="arpproxyroute.svg"/></imageobject>
				<imageobject role="html"><imagedata format="PNG" fileref="arpproxyroute.png"/></imageobject>
			</mediaobject>
		</figure>
		<para>
			Steps to configure the laptop (other than configuring its IP address):
		</para>
		<itemizedlist>
			<listitem><para>Set laptop's wired and wireless interface to use the same IP address and subnet mask.</para></listitem>
			<listitem><para>Enable IP routing on laptop.</para></listitem>
			<listitem><para>Make sure that there's no route to 192.168.1.0/24 <emphasis>through wireless interface</emphasis> on laptop.</para></listitem>
			<listitem><para>Add static route to 192.168.1.254 <emphasis>via wireless interface</emphasis> on laptop.</para></listitem>
			<listitem><para>Enable ARP proxy on both wired and wireless interface of laptop.</para></listitem>
		</itemizedlist>
		<para>
			Example command line (run as root) to configure the GNU/Linux-based laptop,
			assuming laptop's wired LAN card is <literal>eth0</literal>
			with IP address 192.168.1.12,
			and wireless LAN card is <literal>wlan0</literal>,
			and both interfaces are connected:
		</para>
		<programlisting><![CDATA[ifconfig wlan0 192.168.1.12 netmask 255.255.255.0
sysctl -w net.ipv4.ip_forward=1
route del -net 192.168.1.0 netmask 255.255.255.0 dev wlan0
route add 192.168.1.254 dev wlan0
sysctl -w net.ipv4.conf.eth0.proxy_arp=1
sysctl -w net.ipv4.conf.wlan0.proxy_arp=1]]></programlisting>
		<para>
			Please note that it is not recommended to enable DHCP on laptop's wireless LAN interface;
			even it would generally work
			if the IP address assigned by camera's DHCP server
			does not clash with other existing host on wired network.
			But when it does clash,
			effect is the same as setting up your machine's IP address
			to the one that other machine is already using;
			disrupting clashing machine's network communication.
		</para>
		<para>
			However,
			if you know what you are doing
			(e.g. all machines in your wired network use static IP address out of camera's DHCP range),
			you could enable it;
			and omit <literal>ifconfig</literal> line in the configuration commands.
		</para>
		<para>
			If your laptop is running Microsoft Windows,
			there is no built-in way to enable ARP proxy;
			so you would need to use third-party ARP proxying tool for this step instead.
			(These third-party tools are rather called <quote>ARP Spoofing</quote>
			or <quote>ARP Poisoning</quote> tools
			as they are originally used for hijacking network traffic from remote machine)
			Instruction for setting up these tools are not covered in this guide.
		</para>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="natpat">
		<title>Using NAT</title>
		<indexterm><primary>NAT</primary></indexterm>
		<indexterm><primary>PAT</primary></indexterm>
		<para>
			This approach configures the laptop as if it was sharing WiFi internet connection
			through wired LAN (a.k.a. tethering),
			with <glossterm linkend="nat">NAT</glossterm>.
			This method of NAT is more precisely called <emphasis>Port Address Translation (PAT)</emphasis>
			or NAT overloading,
			which masquerades PC's IP address as laptop's one-
			inside the camera network.
			Only configuration needed from the PC side
			is adding static route to 192.168.1.254 via the laptop.
		</para>
		<para>
			Advantages:
		</para>
		<itemizedlist>
			<listitem><para>Simple configuration.</para></listitem>
		</itemizedlist>
		<para>
			Limitations:
		</para>
		<itemizedlist>
			<listitem><para>
				Your network's address range must not overlap with 192.168.1.0/24 range.
			</para></listitem>
			<listitem>
				<para>
					Camera's live video feed is not likely to work
					unless your NAT implementation is aware of RTSP;
					or you can instruct your media player to use TCP for video transport:
				</para>
				<itemizedlist>
					<listitem><para>
						In MPlayer,
						use <literal>-rtsp-stream-over-tcp</literal> command line option.
					</para></listitem>
					<listitem><para>
						In VLC Media Player,
						select <quote>RTP over RTSP (TCP)</quote> as Live555 stream transport
						in <quote>Input &amp; Codecs Settings</quote> preference.
					</para></listitem>
				</itemizedlist>
				<para>
					If you used TCP transport for live video feed,
					beware that the camera is not very robust in handling RTSP/RTP interleaved connection;
					problems in media player may cause the camera firmware to crash.
				</para>
			</listitem>
		</itemizedlist>
		<figure id="natpatdiagram">
			<title>Example network configuration using NAT</title>
			<mediaobject>
				<imageobject role="fo"><imagedata format="SVG" fileref="natpat.svg"/></imageobject>
				<imageobject role="html"><imagedata format="PNG" fileref="natpat.png"/></imageobject>
			</mediaobject>
		</figure>
		<para>
			If your laptop is using GNU/Linux,
			NAT could be configured by using following commands (run as root),
			assuming laptop's wired LAN card is using network address 10.0.0.0/8 (10.x.x.x),
			wireless LAN card is <literal>wlan0</literal>
			using either static or DHCP IP address,
			and both interfaces are connected:
		</para>
		<programlisting><?dbfo keep-together="always"?><![CDATA[sysctl -w net.ipv4.ip_forward=1
iptables -t nat -I POSTROUTING -s 10.0.0.0/8 -j MASQUERADE -o wlan0]]></programlisting>
		<para>
			Please note that above configuration command alone
			is not RTSP-aware
			(hence needs workaround from media player side).
			If you would like to add RTSP support in NAT,
			you could install RTSP connection tracking module for Linux Netfilter.<footnote id="netfilter-rtsp"><para>
				See <ulink url="https://github.com/maru-sama/rtsp-linux/"/>
				or install <literal>nat-rtsp-dkms</literal> package
				in Debian-based GNU/Linux distribution;
				then build, and install the kernel module.
			</para></footnote>
		</para>
		<para>
			If your laptop is using Microsoft Windows,
			just configure Internet Connection Sharing
			using wireless LAN as internet,
			and wired LAN as local network.
		</para>
		<para>
			From above configuration,
			you can configure a static route on the GNU/Linux-based PC side
			by running following command as root
			(assuming laptop's wired LAN IP address is 10.0.0.11):
		</para>
		<programlisting>route add 192.168.1.254 gw 10.0.0.11</programlisting>
		<para>
			If the PC is running Microsoft Windows,
			use the following command instead:
		</para>
		<programlisting>route add 192.168.1.254 10.0.0.11</programlisting>
		<para>
			In case the PC is connected directly to laptop,
			or there's no other machine/gateway on the wired network,
			you can just set PC's default gateway to laptop's IP address
			without configuring any static route.
		</para>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="nat1to1">
		<title>Using 1:1 NAT with ARP Proxy</title>
		<indexterm><primary>NAT</primary></indexterm>
		<para>
			In this approach,
			we configure the laptop as a middleman
			to masquerade camera's address as an IP address in the main network,
			and masquerade PC's address as an IP address in the camera's network.
		</para>
		<para>
			Advantages:
		</para>
		<itemizedlist>
			<listitem><para>
				Your network can use any address range,
				and can be routed through any hop.
			</para></listitem>
			<listitem><para>
				All camera functionalities are usable.
			</para></listitem>
		</itemizedlist>
		<para>
			Limitations:
		</para>
		<itemizedlist>
			<listitem><para>
				Complicated configuration.
			</para></listitem>
			<listitem><para>
				Routing must be set up manually,
				one set for each PC that wishes to use the camera;
				253 maximum.
			</para></listitem>
		</itemizedlist>
		<para>
			ARP proxy configuration is required
			as you cannot add static routes on the camera.
		</para>
		<figure id="nat1to1diagram">
			<title>Example network configuration using 1:1 NAT with ARP proxy</title>
			<mediaobject>
				<imageobject role="fo"><imagedata format="SVG" fileref="nat1to1.svg"/></imageobject>
				<imageobject role="html"><imagedata format="PNG" fileref="nat1to1.png"/></imageobject>
			</mediaobject>
		</figure>
		<para>
			You might notice that this network diagram
			is apparently identical to NAT diagram in <link linkend="natpat">previous section</link>;
			the difference is how the PC and camera see each other.
			Which in this case,
			both PC and camera are lured
			into believing that it is talking to a host in same network,
			even it actually is not.
		</para>
		<figure id="nat1to1diagrampc">
			<title>Layer-3 view of 1:1 NAT with ARP proxy example (PC perspective)</title>
			<mediaobject>
				<imageobject role="fo"><imagedata format="SVG" fileref="nat1to1frompc.svg"/></imageobject>
				<imageobject role="html"><imagedata format="PNG" fileref="nat1to1frompc.png"/></imageobject>
			</mediaobject>
		</figure>
		<para>
			From this layer-3 diagram,
			you would see that the PC saw the camera as a machine in the same <quote>wired</quote> network as itself;
			the camera appears to have IP address belonged to PC's wired LAN.
		</para>
		<figure id="nat1to1diagramcamera">
			<title>Layer-3 view of 1:1 NAT with ARP proxy example (camera perspective)</title>
			<mediaobject>
				<imageobject role="fo"><imagedata format="SVG" fileref="nat1to1fromcamera.svg"/></imageobject>
				<imageobject role="html"><imagedata format="PNG" fileref="nat1to1fromcamera.png"/></imageobject>
			</mediaobject>
		</figure>
		<para>
			From this layer-3 diagram,
			you would see that the camera saw the PC as a machine in the same <quote>wireless</quote> network as itself;
			the PC appears to have IP address belonged in camera's wireless LAN.
		</para>
		<para>
			Example command line show below is for configuring GNU/Linux-based laptop (run as root)
			in this scenario:
			assuming laptop's wired LAN card is <literal>eth0</literal>
			with IP address 10.0.0.11,
			wireless LAN card is <literal>wlan0</literal>
			with IP address 192.168.1.12,
			and both interfaces are connected;
			then map the camera to 10.0.0.128 in wired network,
			and map the PC to 192.168.1.128 in wireless network.
		</para>
		<programlisting><![CDATA[sysctl -w net.ipv4.ip_forward=1
route del -net 192.168.1.0 netmask 255.255.255.0 dev wlan0
route add 192.168.1.254 dev wlan0
sysctl -w net.ipv4.conf.eth0.proxy_arp=1
sysctl -w net.ipv4.conf.wlan0.proxy_arp=1

iptables -t nat -A PREROUTING -i wlan0 -d 192.168.1.128 -j DNAT --to-destination 10.0.0.10
iptables -t nat -A POSTROUTING -o eth0 -s 192.168.1.254 -j SNAT --to-source 10.0.0.128
iptables -A FORWARD -s 192.168.1.254 -d 192.168.1.128 -j ACCEPT
route add 192.168.1.128 gw 127.0.0.1

iptables -t nat -A PREROUTING -i eth0 -d 10.0.0.128 -j DNAT --to-destination 192.168.1.254
iptables -t nat -A POSTROUTING -o wlan0 -s 10.0.0.10 -j SNAT --to-source 192.168.1.128
iptables -A FORWARD -s 10.0.0.10 -d 10.0.0.128 -j ACCEPT
route add 10.0.0.128 gw 127.0.0.1]]></programlisting>
		<para>
			Notes:
		</para>
		<itemizedlist>
			<listitem>
				<para>
					These command lines are used for routing connection for one PC.
					If you wish to use more than one PC,
					duplicate second and third block of command,
					but substitute 10.0.0.10 with the new PC's wired LAN IP address
					and increase 192.168.1.128 address by 1
					(when you add the third and the fourth PC,
					increase it by 2, 3,
					and so on).
				</para>
				<para>
					If you wish to use a different address range in wired LAN,
					substitute them accordingly.
				</para>
			</listitem>
			<listitem><para>
				There are two set of iptables rules,
				as we are faking network address in both direction.
				(Conventional 1:1 NAT usually fake address in only one direction,
				allowing one party to see the real address of the other)
			</para></listitem>
			<listitem><para>
				Lines containing
				<literal>iptables -A FORWARD</literal>
				are not strictly required;
				you can omit them if your laptop is not using strict <quote>default DROP</quote> firewall rule.
			</para></listitem>
			<listitem><para>
				Seemingly-useless routes to 127.0.0.1 are required:
				they are for supplying eligible addresses for ARP proxy mechanism.
				(Linux ARP proxy uses a list of eligible address from routing table,
				not firewall rules where NAT configuration resides)
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="androidtether">
		<title>Connecting Through Android Device</title>
		<indexterm><primary>Android</primary></indexterm>
		<indexterm><primary>PPP</primary></indexterm>
		<indexterm><primary>Tethering</primary></indexterm>
		<indexterm><primary>USB</primary></indexterm>
		<para>
			Sometimes,
			when you didn't have other WiFi-capable device on hand,
			you can just use the Android device for connecting to the camera,
			and plug it to the PC via USB cable.
			Since Android is just another kind of Linux system,
			this is not an approach different from ones described earlier.
			It provides two means for the PC to connect:
		</para>
		<itemizedlist>
			<listitem><para>
				USB Tethering option (if your device provides it):
				In this mode,
				your Android device will show itself as an USB Ethernet adapter,
				which is able to access the camera's WiFi network through NAT.
				The type of Ethernet adapter that device represents can be either Microsoft <glossterm linkend="rndis">RNDIS</glossterm>
				or <glossterm linkend="usbcdceth">USB CDC Ethernet</glossterm> adapter;
				depending on the model of Android device used.
			</para></listitem>
			<listitem><para>
				ADB PPP tethering:
				In this mode,
				PC will access the camera WiFi network through PPP connection
				running on Android Debug Bridge.
				This requires a rooted Android device,
				and the PC must run GNU/Linux system.
			</para></listitem>
		</itemizedlist>
		<figure id="androidtethernatdiagram">
			<title>Example network configuration using Android device's USB Tethering</title>
			<mediaobject>
				<imageobject role="fo"><imagedata format="SVG" fileref="androidtethernat.svg"/></imageobject>
				<imageobject role="html"><imagedata format="PNG" fileref="androidtethernat.png"/></imageobject>
			</mediaobject>
		</figure>
		<para>
			The USB Tethering,
			once enabled
			(by going to <emphasis>Settings &gt; Wireless &amp; Networks &gt; More option &gt; Tethering &amp; portable hotspot</emphasis> on Android device),
			will instantly operate in NAT way,
			all network setup and IP address allocation will be taken care of automatically
			by the Android device;
			and it provided DHCP server for PC's auto-configuration.
			Most NAT caveats apply,
			but it seems that Android's NAT implementation is aware of RTSP stream;
			live video feed should work.
			This configuration could be changed further
			via a use of command line shell
			if your Android device is rooted.
		</para>
		<?dbfo-need height="1.5in"?>
		<para>
			On the other hand,
			in ADB PPP approach,
			once the connection is established,
			will operate in normal networking;
			you still need to enable routing,
			edit network route,
			and enable ARP proxy from command line shell.
			But since Android Debug Bridge's PPP support is sparsely documented,
			and has a horrible error reporting facility
			(namely, none).
			Getting it to work and troubleshooting warrant a whole guide on its own;
			so this method is not recommended and not included in this guide.
		</para>
	</section>
</appendix>
<appendix id="misctrivia">
	<title>Miscellaneous Trivia</title>
	<para>
		This appendix documents miscellaneous facts about the camera
		that are found during my experiments,
		but are not related to any function accessible from WiFi access
		or any other topic elaborated elsewhere in the guide.
		They are not useful
		for writing control software,
		but some power users might still want to know about them.
	</para>
	<?dbfo-need height="2.5in"?>
	<section id="powertrivia">
		<title>Power On Trivia</title>
		<itemizedlist>
			<listitem><para>
				The camera will always start in video recording mode,
				no matter which mode user (or connected devices) set it to at the last power off.
			</para></listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="videotrivia">
		<title>Video Recording Trivia</title>
		<itemizedlist>
			<listitem>
				<para><indexterm><primary>Metadata</primary></indexterm>Video files recorded by the camera contains following metadata:</para>
				<table id="videometadatalist"><title>List of metadata found in recorded video files</title><tgroup cols="2">
					<thead>
						<row><entry>Metadata name</entry><entry>Metadata value</entry></row>
					</thead>
					<tbody>
						<row><entry>Creation time</entry><entry><emphasis>(Date and time when the recording stopped)</emphasis></entry></row>
						<row><entry>Comment</entry><entry><literal>CarDV-TURNKEY</literal></entry></row>
					</tbody>
				</tgroup></table>
			</listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="phototrivia">
		<title>Photo Shooting Trivia</title>
		<itemizedlist>
			<listitem><para>
				Photo shots from the camera are in JPEG/<glossterm linkend="exif">EXIF</glossterm> format
				using baseline (i.e. non-progressive) DCT encoding
				with Huffman code compression;
				containing 3 color channels (YCbCr) and 8-bit resolution per channel.
				The encoding is done with YCbCr 4:2:2 (2 1) chroma subsampling,
				resulting in 16x8 pixel minimum coded unit block.
				EXIF version used is 2.2.
			</para></listitem>
			<listitem>
				<para>
					<indexterm><primary>EXIF</primary></indexterm><indexterm><primary>Metadata</primary></indexterm>Photo shots from the camera are reported by <glossterm linkend="exiftool">ExifTool</glossterm>
					to carry following EXIF metadata:
				</para>
				<table id="photoexif"><title>List of EXIF metadata found in shot photos</title><tgroup cols="2">
					<thead>
						<row><entry>Metadata name</entry><entry>Metadata value</entry></row>
					</thead>
					<tbody>
						<row><entry>Image Description</entry><entry><literal>CAMERA</literal></entry></row>
						<row><entry>Make</entry><entry><literal>MAKER NAME</literal></entry></row>
						<row><entry>Camera Model Name</entry><entry><literal>SJ4000WIFI</literal></entry></row>
						<row><entry>Orientation</entry><entry>Horizontal (normal)</entry></row>
						<row><entry>X Resolution</entry><entry>72</entry></row>
						<row><entry>Y Resolution</entry><entry>72</entry></row>
						<row><entry>Resolution Unit</entry><entry>inches</entry></row>
						<row><entry>Software</entry><entry><literal>Verx.xx</literal></entry></row>
						<row><entry>Modify Date</entry><entry><emphasis>(Date and time when the photo is shot)</emphasis></entry></row>
						<row><entry>Y Cb Cr Positioning</entry><entry>Co-sited</entry></row>
						<row><entry>Exposure Time</entry><entry><emphasis>(Varies)</emphasis></entry></row>
						<row><entry>F Number</entry><entry>1.8</entry></row>
						<row><entry>Exposure Program</entry><entry>Program AE</entry></row>
						<row><entry>ISO</entry><entry><emphasis>(Varies)</emphasis></entry></row>
						<row><entry>Exif Version</entry><entry>0220</entry></row>
						<row><entry>Date/Time Original</entry><entry><emphasis>(The same value as Modify Date)</emphasis></entry></row>
						<row><entry>Create Date</entry><entry><emphasis>(The same value as Modify Date)</emphasis></entry></row>
						<row><entry>Components Configuration</entry><entry>Y, Cb, Cr, -</entry></row>
						<row><entry>Shutter Speed Value</entry><entry><emphasis>(Varies)</emphasis></entry></row>
						<row><entry>Aperture Value</entry><entry>1.7</entry></row>
						<row><entry>Brightness Value</entry><entry>1</entry></row>
						<row><entry>Exposure Compensation</entry><entry><emphasis>(Varies)</emphasis></entry></row>
						<row><entry>Max Aperture Value</entry><entry>1.7</entry></row>
						<row><entry>Metering Mode</entry><entry>Average</entry></row>
						<row><entry>Light Source</entry><entry>Unknown</entry></row>
						<row><entry>Flash</entry><entry>Off, Did not fire</entry></row>
						<row><entry>Focal Length</entry><entry>2.5 mm</entry></row>
						<row><entry>User Comment</entry><entry><emphasis>(None)</emphasis></entry></row>
						<row><entry>Flashpix Version</entry><entry>0100</entry></row>
						<row><entry>Color Space</entry><entry>sRGB</entry></row>
						<row><entry>Exif Image Width</entry><entry><emphasis>(Varies)</emphasis></entry></row>
						<row><entry>Exif Image Height</entry><entry><emphasis>(Varies)</emphasis></entry></row>
						<row><entry>Interoperability Index</entry><entry>R98 - DCF basic file (sRGB)</entry></row>
						<row><entry>Interoperability Version</entry><entry>0100</entry></row>
						<row><entry>Sensing Method</entry><entry>One-chip color area</entry></row>
						<row><entry>File Source</entry><entry>Digital Camera</entry></row>
						<row><entry>Scene Type</entry><entry>Directly photographed</entry></row>
						<row><entry>Custom Rendered</entry><entry>Normal</entry></row>
						<row><entry>Exposure Mode</entry><entry>Manual</entry></row>
						<row><entry>White Balance</entry><entry><emphasis>(Varies)</emphasis></entry></row>
						<row><entry>Digital Zoom Ratio</entry><entry><emphasis>(Varies)</emphasis></entry></row>
						<row><entry>Scene Capture Type</entry><entry>Standard</entry></row>
						<row><entry>Sharpness</entry><entry>Normal</entry></row>
						<row><entry>Compression</entry><entry>JPEG (old-style)</entry></row>
						<row><entry>Thumbnail Offset</entry><entry><emphasis>(Varies)</emphasis></entry></row>
						<row><entry>Thumbnail Length</entry><entry><emphasis>(Varies)</emphasis></entry></row>
					</tbody>
				</tgroup></table>
				<para>
					Notes:
				</para>
				<itemizedlist>
					<listitem><para>
						Digital Zoom Ratio field would be <literal>0</literal>
						if no digital zoom was used on shooting.
						Otherwise,
						the value will reflect the zoom level shown on camera's screen
						while shooting.
					</para></listitem>
					<listitem><para>
						Camera's <quote>Rotation</quote> setting has no effect on EXIF metadata;
						if you set it to <quote>On</quote>,
						the camera will simply rotate the image data 180-degree before saving,
						and leave Orientation field as <quote>Horizontal (normal)</quote>.
						Holding camera upside down or 90-degree wouldn't change it either,
						as the camera doesn't have orientation sensor.
					</para></listitem>
					<listitem><para>
						The value of ISO field will reflect camera's ISO value
						chosen at the shooting time.
						This number varies from shot to shot
						if camera's <quote>ISO</quote> setting is set to <quote>Auto</quote>.
						However, if the setting is set to some manual value,
						the ISO field will reflect that value, give or take.
					</para></listitem>
					<listitem><para>
						Exposure Compensation field will be the same value
						as camera's <quote>Exposure</quote> setting
						at the time of shooting.
					</para></listitem>
					<listitem><para>
						White Balance field will be <quote>Auto</quote>
						if camera's <quote>White Balance</quote> setting is set to <quote>Auto</quote>.
						If this setting is set to any other white balance mode,
						the White Balance field will be <quote>Manual</quote>.
					</para></listitem>
					<listitem><para>
						Camera's <quote>Color</quote> setting is not reflected in any field.
					</para></listitem>
					<listitem><para>
						Camera's <quote>Sharpness</quote> setting is not reflected in any field.
					</para></listitem>
				</itemizedlist>
			</listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="mediatrivia">
		<title>Media Playback Trivia</title>
		<?dbfo-need height="2.5in"?>
		<section id="mediainterface">
			<title>Playback Interface</title>
			<itemizedlist>
				<listitem><para>
					The camera's media playback interface
					does not have any file management capability;
					you cannot delete or rename any video or photo from here.
				</para></listitem>
			</itemizedlist>
		</section>
		<?dbfo-need height="2.5in"?>
		<section id="mediaplayctrl">
			<title>Playback Controls</title>
			<para>
				When you started playing recorded video in the camera,
				playback controls might not be obvious;
				the camera supports playing,
				pausing,
				fast-forwarding (4x/8x/16x),
				and fast-rewinding (4x/8x/16x):
			</para>
			<itemizedlist>
				<listitem><para>
					To pause the video,
					press OK button.
				</para></listitem>
				<listitem><para>
					To resume playing the video at current speed,
					press OK button again.
				</para></listitem>
				<listitem><para>
					To increase playing speed (fast-forward),
					press Down button single or multiple times while the video is playing;
					speed will shift from 1x to 4x, 8x, 16x (and stop there).
				</para></listitem>
				<listitem><para>
					To decrease playing speed (fast-rewind),
					press Up button single or multiple times while the video is playing;
					speed will shift from 1x to reverse 4x 8x, 16x (and stop there).
				</para></listitem>
				<listitem><para>
					Like conventional video playing software,
					there will be no sound while you are fast-forwarding or fast-rewinding.
				</para></listitem>
				<listitem><para>
					To stop fast-forwarding/fast-rewinding,
					simply press the opposite speed decrease or speed increase button several times
					to step the playback speed back to the normal 1x.
				</para></listitem>
				<listitem><para>
					While the video is playing
					(either normal speed or fast-forward/fast-rewind)
					or pausing,
					power button cannot be used for anything but turning the camera off.
				</para></listitem>
				<listitem><para>
					To stop the video playback,
					press Up or Down button while the video is <emphasis>paused</emphasis>.
					This will stop the playback and switch to other video file;
					Power button would now be able to be used for mode change once this is done.
				</para></listitem>
			</itemizedlist>
			<?dbfo-need height="0.75in"?>
			<note><para>
				While fast-forwarding/fast-rewinding,
				camera's OSD would say you are at 2x, 4x, or 8x speed;
				<emphasis role="strong">this is inaccurate</emphasis>.
				You really are playing at 4x, 8x, and 16x speed, accordingly.
			</para></note>
		</section>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="storagetrivia">
		<title>Storage Trivia</title>
		<itemizedlist>
			<listitem><para>
				If you inserted or removed MicroSD card while the camera is on,
				the camera will turn off.
				(If WiFi access was enabled,
				the WiFi access down message will appear on camera's status stream too)
			</para></listitem>
			<listitem>
				<para>
					As you probably noticed from <xref linkend="fileaccess"/>,
					the camera stores files in following directories on the MicroSD card:
				</para>
				<itemizedlist>
					<listitem><simpara>
						<literal>/DCIM/MOVIE</literal> for recorded videos.
					</simpara></listitem>
					<listitem><simpara>
						<literal>/DCIM/PHOTO</literal> for photos shot.
					</simpara></listitem>
				</itemizedlist>
				<para>
					In case the needed directory is not exist,
					it will be created individually on first use
					(together with parent directory, if necessary).
				</para>
			</listitem>
			<listitem>
				<?dbfo keep-together="always"?>
				<para>
					<indexterm><primary>Filename</primary></indexterm>The camera uses following filename pattern
					for storing recorded videos and shot photos:
				</para>
				<programlisting><replaceable>YYYY</replaceable>_<replaceable>MM</replaceable><replaceable>DD</replaceable>_<replaceable>HH</replaceable><replaceable>mm</replaceable><replaceable>ss</replaceable>_<replaceable>NNN</replaceable>.<replaceable>EEE</replaceable></programlisting>
				<itemizedlist>
					<listitem><simpara>
						<varname>YYYY</varname> will be four-digit CE year
						(e.g. <literal>2016</literal>).
					</simpara></listitem>
					<listitem><simpara>
						<varname>MM</varname> will be two-digit month number
						(e.g. <literal>09</literal> for September).
					</simpara></listitem>
					<listitem><simpara>
						<varname>DD</varname> will be two-digit date
						(e.g. <literal>20</literal> for 20<superscript>th</superscript> day of the month).
					</simpara></listitem>
					<listitem><simpara>
						<varname>HH</varname> will be two-digit hour number in 24-hour clock
						(e.g. <literal>17</literal> for 5 p.m.).
					</simpara></listitem>
					<listitem><simpara>
						<varname>mm</varname> will be two-digit minute number.
					</simpara></listitem>
					<listitem><simpara>
						<varname>ss</varname> will be two-digit second number.
					</simpara></listitem>
					<listitem><simpara>
						<varname>NNN</varname> will be three-digit sequence number
						showing that this video/photo is created as the N<superscript>th</superscript> video/photo
						since camera's power on
						(e.g. <literal>005</literal> if the photo is shot
						as the 5th photo since the camera was turned on).
						This number will reset when the camera is turned off.
						Also, videos and photos are <emphasis>counted in separate</emphasis>.
					</simpara></listitem>
					<listitem><simpara>
						<varname>EEE</varname> will be file extension:
						<literal>MOV</literal> if it is a video,
						or <literal>JPG</literal> if it is a photo.
					</simpara></listitem>
					<listitem><simpara>
						This datetime is in local timezone.
					</simpara></listitem>
				</itemizedlist>
				<para>
					For example, a photo named <literal>2016_1219_190832_005.JPG</literal>
					is taken on 19-Dec-2016 at 19:08:32 (07:08:32 p.m.),
					as the fifth picture since camera's power on.
				</para>
			</listitem>
			<listitem>
				<para>
					The camera recognizes DOS MBR partition table,
					and not UEFI GPT partition table.
				</para>
			</listitem>
			<listitem>
				<para>
					The camera is known to recognize these filesystems:
				</para>
				<itemizedlist>
					<listitem><simpara>FAT32</simpara></listitem>
					<listitem><simpara>FAT16</simpara></listitem>
					<listitem><simpara>FAT12</simpara></listitem>
					<listitem><simpara>exFAT</simpara></listitem>
				</itemizedlist>
				<para>
					And these filesystems are known <emphasis role="strong">not to be recognized</emphasis>:
				</para>
				<itemizedlist>
					<listitem><simpara>Linux ext2</simpara></listitem>
					<listitem><simpara>Linux ext3</simpara></listitem>
					<listitem><simpara>NTFS</simpara></listitem>
				</itemizedlist>
				<para>
					In this guide,
					the camera is mainly tested with MicroSD card containing FAT32 filesystem.
					Using MicroSD card with an unrecognized filesystem or partition table
					would yield the same result as using a card containing no partition.
				</para>
			</listitem>
			<listitem>
				<para>
					If you inserted MicroSD card with no partition table
					(zeroed out boot sector)
					or MBR partition table with no partition;
					the camera will show <quote>Please Insert Card</quote> message in video recording mode,
					and you won't be able to turn on WiFi access in that mode.
					If you change to photo shooting mode,
					you will be able to turn on WiFi access,
					though doing so will crash the camera firmware;
					screen and buttons will freeze,
					and you can only use power button to turn it off.
				</para>
				<para>
					You can still use <quote>Format</quote> command in camera's Setup screen
					to format the card.
					Once finished,
					the card will be in a state that is usable to the camera.
				</para>
			</listitem>
			<listitem>
				<para>
					The camera seems to be allergic to MBR bootloader on the MicroSD card;
					if the code area of MBR is not zeroed out
					(e.g. containing bootloader like <glossterm linkend="grub">GRUB</glossterm>, or DOS MBR code),
					the camera would treat the card as if it does not have any partition table.
					This is an odd behavior.
				</para>
			</listitem>
		</itemizedlist>
	</section>
	<?dbfo-need height="2.5in"?>
	<section id="configtrivia">
		<title>Configuration Trivia</title>
		<itemizedlist>
			<listitem><para>
				Once you configured the camera name (<quote>License No</quote>),
				you won't be able to reset it to an empty value ever again.
				If you try to set it to empty value,
				the camera will use <quote>0</quote> for it instead.
				As already said,
				camera's <quote>Default Setting</quote> menu won't reset this setting.
			</para></listitem>
		</itemizedlist>
	</section>
</appendix>
&gpltext;
<glossary id="glossary">
	<glossentry id="arpproxy">
		<glossterm>ARP Proxy</glossterm>
		<glossdef>
			<para>
				A technique to emulate other machine's presence in local network,
				so that data sent to it could be picked up by the proxy router
				and forwarded to the intended machine located on different physical network.
				Read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/Proxy_ARP"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="curl">
		<glossterm>cURL</glossterm>
		<glossdef>
			<para>
				A command line tool for issuing data request on common application protocols,
				including HTTP.
				More commonly used as a software library (libcurl)
				for handling such protocols inside other applications.
			</para>
			<para>
				<ulink url="https://curl.haxx.se/"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="dhcp">
		<glossterm>DHCP</glossterm>
		<glossdef>
			<para>
				Dynamic Host Configuration Protocol,
				a protocol used for automatically configuring network clients' IP address settings
				when joining TCP/IP network.
				Read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="exif">
		<glossterm>EXIF</glossterm>
		<glossdef>
			<para>
				Exchangeable Image File Format,
				a metadata tagging format mostly used in JPEG files
				to store camera and scanner information.
				This metadata format can also be used in TIFF file or WAVE file too.
				Read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/Exif"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="exiftool">
		<glossterm>ExifTool</glossterm>
		<glossdef>
			<para>
				A command line tool and software library
				to extract and manipulate metadata
				in variety of file formats
				(image,
				audio,
				video,
				document,
				archive,
				executable,
				and log files).
			</para>
			<para>
				<ulink url="http://owl.phy.queensu.ca/~phil/exiftool/"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="freesw">
		<glossterm>Free Software</glossterm>
		<glossdef>
			<para>
				A class of software which user has rights to run,
				study,
				modify,
				and redistribute for any purposes.
				Read more at:
			</para>
			<para>
				<ulink url="https://www.gnu.org/philosophy/free-sw.html"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="grub">
		<glossterm>GRUB</glossterm>
		<glossdef>
			<para>
				GNU Grand Unified Bootloader,
				a bootloader commonly used for starting GNU/Linux operating system,
				or provide boot menu for multiple operating systems
				installed on the PC.
			</para>
			<para>
				<ulink url="https://www.gnu.org/software/grub/"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="http">
		<glossterm>HTTP</glossterm>
		<glossdef>
			<para>
				Hypertext Transfer Protocol,
				an internet protocol used for fetching web pages and other resources
				across the internet and World Wide Web.
				Read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="ping">
		<glossterm>ICMP Echo</glossterm>
		<glossdef>
			<para>
				A built-in diagnostic service available on all TCP/IP network host,
				more commonly known as <quote>Ping</quote> service.
				Read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/Ping_(networking_utility)"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="live555">
		<glossterm>LIVE555</glossterm>
		<glossdef>
			<para>
				A set of software tools and libraries for handling
				<glossterm linkend="rtsp">RTSP</glossterm> media streaming;
				including RTSP server daemon (LIVE555 media server)
				and RTSP client library (LIVE555 streaming media).
				The latter is also used inside <glossterm linkend="vlc">VLC Media Player</glossterm>,
				and <glossterm linkend="mplayer">MPlayer</glossterm>.
			</para>
			<glosslist>
				<glossentry>
					<glossterm>Server daemon</glossterm>
					<glossdef><para>
						<ulink url="http://www.live555.com/mediaServer/"/>
					</para></glossdef>
				</glossentry>
				<glossentry>
					<glossterm>Client library</glossterm>
					<glossdef><para>
						<ulink url="http://www.live555.com/liveMedia/"/>
					</para></glossdef>
				</glossentry>
			</glosslist>
		</glossdef>
	</glossentry>
	<glossentry id="mplayer">
		<glossterm>MPlayer</glossterm>
		<glossdef>
			<para>
				A command-line based media player and streaming client,
				available on GNU/Linux,
				Unix-like systems,
				Microsoft Windows,
				Mac OS X,
				and DOS.
			</para>
			<para>
				<ulink url="http://mplayerhq.hu/"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="nat">
		<glossterm>NAT</glossterm>
		<glossdef>
			<para>
				Network Address Translation,
				a family of technique for remapping visible IP address of networked machine
				by editing IP packets in transit.
				The most common one is used in residential gateway router,
				for allowing multiple machines
				to share a single IP address
				from the perspective of external network;
				called Port Address Translation or NAT overloading.
				Read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/Network_address_translation"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="ncat">
		<glossterm>Ncat</glossterm>
		<glossdef>
			<para>
				A re-implementation of <glossterm linkend="netcat">Netcat</glossterm>
				by Nmap project,
				with IPv6,
				SSL,
				and SOCKS proxy support.
			</para>
			<para>
				<ulink url="https://nmap.org/ncat/"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="netcat">
		<glossterm>Netcat</glossterm>
		<glossdef>
			<para>
				A well-known raw TCP (and UDP) communication utility program written by Hobbit;
				capable of connecting/receiving connection,
				passing data to/from standard output/input,
				as well as redirecting communication to local shell or program.
				Often dubbed as a <quote>TCP/IP Swiss Army knife</quote>.
			</para>
			<para>
				<ulink url="http://nc110.sourceforge.net/"/> (or <ulink url="http://sectools.org/tool/netcat/"/>)
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="ptp">
		<glossterm>PTP</glossterm>
		<glossdef>
			<para>
				Picture Transfer Protocol,
				a communication protocol used for acquiring picture and video files
				from digital camera over USB.
				Read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/Picture_Transfer_Protocol"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="putty">
		<glossterm>PuTTY</glossterm>
		<glossdef>
			<para>
				A cross-platform graphical terminal emulator software,
				emphasizing on supporting network-based remote terminal
				like Telnet,
				Rlogin,
				and SSH;
				while supporting raw TCP
				and serial port communication as well.
			</para>
			<para>
				<ulink url="http://www.chiark.greenend.org.uk/~sgtatham/putty/"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="rndis">
		<glossterm>RNDIS</glossterm>
		<glossdef>
			<para>
				Remote Network Driver Interface Specification,
				a Microsoft proprietary protocol for USB-based network adapter
				(LAN or Wireless LAN card),
				available for uses on all version of Microsoft Windows with USB support,
				and also on GNU/Linux;
				Mac OS X requires third-party driver.
				Read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/RNDIS"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="rtp">
		<glossterm>RTP</glossterm>
		<glossdef>
			<para>
				Real Time Protocol,
				a communication protocol used for video,
				audio,
				and other real time data streaming over internet;
				sometimes as a part of <glossterm linkend="rtsp">RTSP</glossterm>.
				Read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/Real-time_Transport_Protocol"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="rtsp">
		<glossterm>RTSP</glossterm>
		<glossdef>
			<para>
				Real Time Streaming Protocol,
				a communication protocol commonly used for initiating
				and controlling video streaming over internet.
				Read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/Real_Time_Streaming_Protocol"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="socat">
		<glossterm>Socat</glossterm>
		<glossdef>
			<para>
				A network stream relaying software
				with functionality of <glossterm linkend="netcat">Netcat</glossterm>,
				but supports passing data from one connection to another connection,
				and supports non-TCP/IP communication like Unix socket and Unix VTY as well.
			</para>
			<para>
				<ulink url="http://www.dest-unreach.org/socat/"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="telnet">
		<glossterm>Telnet</glossterm>
		<glossdef>
			<para>
				A common TCP-based remote terminal program (and protocol),
				available on most operating systems.
				Read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/Telnet"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="usbcdceth">
		<glossterm>USB CDC Ethernet</glossterm>
		<glossdef>
			<para>
				A type of USB device which represents an Ethernet-compatible network adapter;
				typically a LAN card,
				or Wireless LAN card.
				This type of network adapter can be used with Microsoft Windows Vista (or later),
				GNU/Linux,
				Mac OS X,
				or other operating systems.
				It is a part of USB Communication Device class,
				read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/USB_communications_device_class"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="usbmassstorage">
		<glossterm>USB Mass Storage device</glossterm>
		<glossdef>
			<para>
				A type of USB device which represents data storage,
				like hard disk,
				optical drive,
				or floppy drive.
				USB flash drive is the most common device in this category.
				Read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/USB_mass_storage_device_class"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="usbvideo">
		<glossterm>USB Video Class device</glossterm>
		<glossdef>
			<para>
				A type of USB device which represents live video source,
				like video camera,
				webcam,
				or video capture card.
				Read more at:
			</para>
			<para>
				<ulink url="https://en.wikipedia.org/wiki/USB_video_device_class"/>
			</para>
		</glossdef>
	</glossentry>
	<glossentry id="vlc">
		<glossterm>VLC Media Player</glossterm>
		<glossdef>
			<para>
				A cross-platform media player and streaming client from VideoLAN project,
				with trademark orange traffic cone logo;
				available on GNU/Linux,
				Android,
				Microsoft Windows,
				Mac OS X,
				and iOS.
			</para>
			<para>
				It was called <quote>VideoLAN Client</quote> (VLC)
				due to its original purpose
				as video streaming client for their VideoLAN Server software.
			</para>
			<para>
				<ulink url="https://videolan.org/vlc/"/>
			</para>
		</glossdef>
	</glossentry>
</glossary>
<index id="termindex"/>
</book>
